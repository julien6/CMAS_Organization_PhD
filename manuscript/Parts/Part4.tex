\clearpage
\thispagestyle{empty}
\null
\newpage

\cleardoublepage
\phantomsection
% \pdfbookmark[1]{Validation expérimentale de la méthode}{Validation expérimentale de la méthode}
\markboth{\textsc{Validation expérimentale de la méthode}}{\textsc{Validation expérimentale de la méthode}}
\part{Validation expérimentale de la méthode}
\label{part:experimentation}

\clearpage
\thispagestyle{empty}
\null
\newpage

% \acn{TODO} :
%  - Dans le chapitre concernant CybMASDE, il faut commencer par donner un aperçu général de la plateforme (screenshots, diagramme d'activité), de son architecture (\acn{UML} : séquence, classe, composant) et des choix techniques effectués (valeurs des hyper-paramètres).
%  - Pour le chapitre concernant le protocole d'experimentation, il faut inclure le tableau liant chacun des critères à un ensemble de métriques. L'idée est d'établir une grille d'évaluation commune aux 6 différents environnements dans le but de vérifier ou voir comment l'ensemble des critères (C1 à C5) est valide pour chaque environnement experimenté selon les différentes baselines. Le reste du protocole doit comprendre des éléments comme la configuration matérielle, logicielle, les différentes baselines (avec ou sans spécifications organisationnelles, en changeant la dureté de contrainte, la fréquence d'entraînement, etc. \acn{TODO} : mais à définir complètement).
%  - Pour le chapitre suivant, on peut garder la description de chaque environnement (incluant les observations, actions, états, récompenses...), rappeller brièvement la mise en application particulière du protocole pour cet environnement.
%  - Pour le chapitre suivant, on peut présenter les résultats et comment d'après la grille d'évaluation (d'après les métriques) du protocole experimentale, les critères sont couverts. A la fin, on peut faire une synthèse générale des résultats avec la grille d'évaluation commune (comme on a des valeurs numériques on peut notamment faire des moyenne, étudier l'écart-type, etc.). Cela permet de voir de façon générale comment notre méthode appliquée permet de couvrir l'ensemble des critères de façon consistante et générale


\chapter*{Introduction}
\addcontentsline{toc}{chapter}{\textbf{Introduction}}

\noindent
Cette partie vise à démontrer l'applicabilité et la pertinence de la méthode \acn{MAMAD} dans l'ensemble de ses activités ou une partie d'entre elles dans différents contextes de conception de \acplu{SMA}. Pour cela, nous avons développé une plateforme dédiée, \acn{CybMASDE}, qui implémente l'ensemble du pipeline proposé (modélisation, apprentissage, analyse, transfert) de manière modulaire et reproductible.

\medskip

\noindent
Dans un premier temps, nous décrivons en détail l'environnement expérimental, les outils logiciels et matériels mobilisés, ainsi que les environnements de test retenus. Nous présentons également les spécifications organisationnelles associées à chaque environnement, ainsi que les métriques d'évaluation permettant de valider les performances de la méthode. La \autoref{fig:organisation_manuscrit_partie_4} illustre l'organisation de cette partie.

\medskip

\noindent
Dans un second temps, nous analysons les résultats obtenus afin de répondre aux objectifs de recherche identifiés dans la partie précédente. Cela inclut une évaluation de l'efficacité de la méthode, de sa capacité d'automatisation, de l'adéquation des politiques apprises avec les contraintes organisationnelles, ainsi que de leur explicabilité.

\medskip

\noindent
Cette étude expérimentale nous permettra de mieux cerner les atouts et les limites de la méthode \acn{MAMAD}, et de dégager des perspectives d'amélioration pour une automatisation encore plus poussée de la conception organisationnelle en \acn{MARL}.

\begin{figure}[h!]
  \centering
  \resizebox{0.7\linewidth}{!}{%
    \input{figures/organisation_manuscrit_partie_4}
  }
  \caption{Structure de la Partie IV~: Cadre expérimental et analyse des résultats}
  \label{fig:organisation_manuscrit_partie_4}
\end{figure}

\clearpage
\thispagestyle{empty}
\null
\newpage

\chapter{CybMASDE: Un framework supportant MAMAD}
\label{sec:cybmasde}

\section*{Utilisation et fonctionnement de CybMASDE}\label{sec:cybmasde_cycle}

\acn{CybMASDE}\footnotemark[1] est une plateforme modulaire et extensible que nous proposons pour aider la conception de \acplu{SMA} selon la méthode \acn{MAMAD}. \acn{CybMASDE} est utilisable principalement en ligne de commande (voir \autoref{appendix:cybmasde-manual}) et dispose également d'une interface graphique.
Cette section décrit le parcours type d'un utilisateur de \acn{CybMASDE}, depuis la découverte d'un nouvel environnement jusqu'à l'obtention d'une politique conjointe satisfaisante accompagnée de mesures de performance, stabilité et spécifications organisationnelles explicatives. Chaque étape indique à la fois les actions de l'utilisateur et les processus internes de la plateforme. Une première vue d'ensemble de \acn{CybMASDE} est proposée en \autoref{fig:cybmasde_usecase} sous forme de diagramme de cas d'utilisation puis un diagramme de séquence (c.f. \autoref{fig:cybmasde_sequence}) et de composant (c.f. \autoref{fig:cybmasde_uml}) montrent davantage le fonctionnement interne de \acn{CybMASDE}.

\subsection{Diagramme de cas d'utilisation de \texttt{CybMASDE}}

Le diagramme de cas d’utilisation présenté à la \autoref{fig:cybmasde_usecase} illustre les interactions possibles entre les différents acteurs et les principales fonctionnalités offertes par la plateforme \acn{CybMASDE}.

\begin{figure}
  \centering
  \includegraphics[width=\linewidth]{figures/use_case_cybmasde.pdf}
  \caption{Diagramme de cas d'utilisation de CybMASDE}
  \label{fig:cybmasde_usecase}
\end{figure}

\paragraph{Acteurs.}
Au sommet se trouve le \textbf{Concepteur de SMA}, qui représente le rôle racine et peut, en pratique, assumer l’ensemble des autres responsabilités. Celui-ci se décline en plusieurs opérateurs spécialisés :
\begin{itemize}
  \item l’\textbf{Opérateur de modélisation}, chargé de définir ou compléter la description de l’environnement simulé, soit automatiquement à l’aide d’un \textbf{World Model}, soit manuellement par le biais du modèle \acn{MCAS}~;
  \item l’\textbf{Opérateur d’entraînement}, qui conduit les phases d’apprentissage des politiques multi-agents en tenant compte des spécifications organisationnelles~;
  \item l’\textbf{Opérateur d’analyse}, qui exploite la méthode \acn{TEMM} ou Auto-\acn{TEMM} afin d’inférer des rôles et objectifs organisationnels à partir des trajectoires produites~;
  \item l’\textbf{Opérateur de raffinement}, qui combine les deux rôles précédents pour réaliser des cycles itératifs d’entraînement et d’analyse jusqu’à l’obtention d’une politique satisfaisante~;
  \item enfin, l’\textbf{Opérateur de déploiement}, qui supervise l’intégration de la politique conjointe finale dans l’environnement réel, soit en mode \textit{DIRECT} (politique exécutée localement par les agents), soit en mode \textit{REMOTE} (politique exécutée par le processus \textit{Transferring}).
\end{itemize}

\paragraph{Cas d’utilisation.}
Les principales fonctionnalités offertes par \acn{CybMASDE} s’articulent autour du cas d’utilisation global \textbf{\textquote{Développer SMA}}. Celui-ci inclut une série d’étapes :

\medskip

\textbf{1. Configurer et lancer un projet}~: cette étape consiste à créer un nouveau projet \acn{CybMASDE}, ce qui génère automatiquement une arborescence de dossiers structurée autour des quatre activités principales de la méthode \acn{MAMAD} (modélisation, entraînement, analyse, transfert), ainsi qu'un fichier central de configuration \texttt{project\_configuration.json} (voir \autoref{fig:overview_configure} et \autoref{fig:cybmasde_screenshot_configuration}). Le concepteur renseigne alors les informations nécessaires pour chaque activité, principalement sous forme de code Python ou en indiquant les chemins vers des fichiers existants. Par exemple, pour la modélisation, l'utilisateur peut fournir le chemin d'une simulation existante, ou choisir d'en créer une nouvelle en définissant l'espace des observations, des actions, les fonctions de récompense, d'arrêt et éventuellement de rendu basées sur l'historique, ainsi que les hyperparamètres pour l'entraînement du World Model. Une étape requise pour la configuration est d'implémenter une \textquote{API Environnementale} en implémentant l'interface \textquote{environment\_api} qui va permettre à \acn{CybMASDE} de communiquer avec l'environment cible.

\begin{figure}[h!]
  \centering
  \includegraphics[width=\linewidth]{figures/cybmasde_configuration_overview.png}
  \caption{Aperçu du fichier de configuration central \texttt{project\_configuration.json} dans \acn{CybMASDE} dans le dossier d'un nouveau projet intitulé \textquote{new\_test}. Ce fichier est également éditable via l'interface de \acn{CybMASDE}. Il regroupe les paramètres de chaque activité (modélisation, entraînement, analyse, transfert) ainsi que les hyperparamètres associés. Toutes ces informations sont organisées au sein de dossiers dédiés dans l'arborescence de fichiers}
  \label{fig:overview_configure}
\end{figure}

\textbf{2. Modéliser environnement}, qui dépend de l’étape de configuration et se décline en deux variantes : \textit{Modélisation automatique} (par World Model comme montré en \autoref{fig:cybmasde_screenshot}) et \textit{Modélisation manuelle} (via le \acn{Dec-POMDP} pré-spécialisé donnant une instance \acn{MCAS})~;

\begin{figure}[h!]
  \centering
  \includegraphics[width=\linewidth]{figures/CybMASDE_2.png}
  \caption{Capture d'écran de l'interface graphique d'édition du fichier de configuration du projet CybMASDE, illustrant ici l'onglet dédié à la modélisation}
  \label{fig:cybmasde_screenshot_configuration}
\end{figure}

\textbf{3. Entraîner politiques}, qui repose sur l’existence d’un environnement simulé et permet d’apprendre des politiques multi-agents compatibles avec les contraintes organisationnelles~;

\begin{figure}[h!]
  \centering
  \includegraphics[width=\linewidth]{figures/CybMASDE_2.png}
  \caption{Capture d'écran de l'interface graphique d'édition du fichier de configuration du projet CybMASDE, illustrant ici l'onglet dédié à la modélisation}
  \label{fig:cybmasde_screenshot}
\end{figure}

\textbf{4. Analyser politiques (TEMM)}, qui dépend de l’entraînement et applique Auto-\acn{TEMM} pour évaluer et expliquer les politiques obtenues. La \autoref{fig:cybmasde_analyzing_screenshot} montre l'interface de CybMASDE dediée à la configuration de cette activité~;

\begin{figure}[h!]
  \centering
  \includegraphics[trim=0cm 20cm 0cm 0cm, clip,width=\linewidth]{figures/analyzing_screenshot.png}
  \caption{Capture d'écran de l'interface graphique montrant ici l'onglet dédié à l'analyse pour la selection des méthodes d'analyse (TEMM ou Auto-TEMM) et des hyperparamètres}
  \label{fig:cybmasde_analyzing_screenshot}
\end{figure}

\textbf{3/4. Raffiner politiques}, qui combine entraînement et analyse dans un processus itératif afin d’améliorer performance, stabilité et explicabilité. La \autoref{fig:cybmasde_refining_screenshot} montre la configuration de cette activité dans \acn{CybMASDE}~;

\begin{figure}[h!]
  \centering
  \includegraphics[trim=0cm 15cm 0cm 0cm, clip,width=\linewidth]{figures/refining.png}
  \caption{Capture d'écran de l'interface graphique d'édition du fichier de configuration du projet CybMASDE, illustrant ici l'onglet dédié à la phase raffinement et de transfert des politiques}
  \label{fig:cybmasde_refining_screenshot}
\end{figure}

\textbf{4. Déployer politique}, qui succède à l’entraînement et peut être réalisé soit en mode \textit{DIRECT}, soit en mode \textit{REMOTE}. Cette configuration est opérée en partie dans la section de modélisation où il est demandé l'url de l'API environmentale (\autoref{fig:cybmasde_screenshot}~;

\

Une fois la configuration des activités effectuées, les activités peuvent être lancées via l'interface graphique ou via une ligne de commande. Par exemple, \textquote{./cybmasde /file/path/to/project\_folder/project\_configuration.json --run modelling} lance l'activité de modélisation à partir du fichier de configuration donné. Les résultats de chaque activités peuvent alors être suvi dans les dossiers dediés se trouvant dans le dossier du projet.


\paragraph{Dépendances.}
Les relations entre cas d’utilisation traduisent les dépendances logiques entre activités. Ainsi, la configuration est un prérequis à la modélisation, laquelle conditionne l’entraînement, qui lui-même est nécessaire à l’analyse. Le raffinement combine et réutilise à la fois entraînement et analyse dans une boucle itérative. Enfin, le déploiement dépend de l’entraînement et peut se décliner en deux scénarios d’extension (mode \textit{DIRECT} ou \textit{REMOTE}).

\medskip
En résumé, ce diagramme formalise la chaîne d’interactions entre acteurs et fonctionnalités dans \acn{CybMASDE}, en distinguant clairement les responsabilités, les variantes de modélisation et de déploiement, ainsi que les dépendances obligatoires entre étapes.


\subsection{Cycle d'utilisation}

Une vue d'ensemble du cycle d'utilisation de \acn{CybMASDE} est présentée dans la \autoref{fig:cybmasde_cycle} qui est également présentée sous forme de diagramme de séquence en \autoref{fig:cybmasde_sequence}.

\begin{figure}
  \centering
  \includegraphics[trim={5cm 1cm 5cm 1cm},clip,height=\textheight]{figures/CybMASDE_user_flowchart.pdf}
  % }
  \caption{Cycle d'utilisation de CybMASDE}
  \label{fig:cybmasde_cycle}
\end{figure}

\begin{figure}
  \includegraphics[trim={0cm 0cm 0cm 0cm},clip,height=\textheight]{figures/diagramme_sequence_CybMASDE.pdf}
  % }
  \caption{Diagramme de séquence pour une utilisation de CybMASDE}
  \label{fig:cybmasde_sequence}
\end{figure}

\paragraph{1. Arrivée devant un nouvel environnement}
\begin{description}
  \item[Utilisateur :] Confronté à un nouvel environnement (ex.~: essaim de drones, réseau d'entreprise, architecture de microservices). Aucun modèle ni configuration n'existent encore.
  \item[CybMASDE :] Attend l'initialisation d'un projet pour orchestrer le cycle complet.
\end{description}

\paragraph{2. Création d'un projet}
\begin{description}
  \item[Utilisateur :] Crée un nouveau projet via l'interface. Une arborescence est générée avec les dossiers \textquote{modelling}, \textquote{training}, \textquote{analyzing}, \textquote{transferring}. Le fichier central \textquote{project\_configuration.json} est produit.
  \item[CybMASDE :] Génère les squelettes nécessaires (fichiers de configuration, \acn{API} de transfert, gestionnaire d'espaces d'actions/observations). Cet espace devient le support du cycle \textbf{\acn{MTA}+T} (Modelling, Training, Analyzing, Transferring).
\end{description}

\paragraph{3. Fourniture des éléments initiaux}
\begin{description}
  \item[Utilisateur :] Renseigne au moins une des options :
    \begin{enumerate}
      \item \textbf{\acn{API} réelle} (\textquote{transferring/configuration.json}) si elle existe déjà.
      \item \textbf{Environnement Python manuel} (\textquote{handcrafted\_environment.py}).
      \item \textbf{Ensemble de traces collectées} par une précédente exécution d'une politique aléatoire afin de générer des historiques conjoints.
    \end{enumerate}
  \item[CybMASDE :] Vérifie la configuration. En cas de collecte de traces, sauvegarde les historiques dans \textquote{world\_model/traces}.
\end{description}

\begin{description}
  \item[Utilisateur :] Implémente la classe des fonctions composantes si aucun un environnement Python manuel n'est fourni :
    \begin{enumerate}
      \item \textbf{Fonction de récompense basée sur les historiques} en implémentant la méthode \textquote{reward()}.
      \item \textbf{Fonction d'arrêt basée sur les historiques} en implémentant la méthode \textquote{stop()}.
      \item \textbf{Fonction de rendu basée sur les historiques} en implémentant la méthode \textquote{render()}.
    \end{enumerate}
  \item[CybMASDE :] Vérifie la validité de la classe fournie et sauvegarde dans \textquote{generated\_ \allowbreak environment/}.
\end{description}

\paragraph{4. Modelling (MOD)}
\begin{description}
  \item[Utilisateur :] Lance la génération d'un environnement simulé.
  \item[CybMASDE :]
    \begin{itemize}
      \item Si des traces sont présentes : entraîne un \textbf{Joint-Observation Prediction Model (\acn{JOPM})} basé sur PyTorch (\acn{VAE}, \acn{MLP}, \acn{LSTM} optimisé par \textquote{Adam}).
      \item Si un environnement Python est fourni : le charge directement.
    \end{itemize}
    Le modèle simulé est stocké dans \textquote{generated\_ \allowbreak environment/}.
\end{description}

\paragraph{5. Training (TRN)}
\begin{description}
  \item[Utilisateur :] Démarre l'entraînement des politiques multi-agents.
  \item[CybMASDE :] Utilise \acn{MARLlib} (\acn{MAPPO}, \acn{MADDPG}, QMix, etc.) et Ray RLlib. Applique les contraintes MOISE+MARL via masquage d'actions par rôle et shaping de récompenses. Les hyperparamètres (\acn{LR}, $\gamma$, taille de batch, etc.) sont optimisés via \textquote{Optuna}, une librairie facilitant l'optimisation des hyperparamètres. Sauvegarde checkpoints et statistiques dans \textquote{training/}.
\end{description}

\paragraph{6. Vérification de la récompense}
\begin{description}
  \item[Utilisateur :] Définit un seuil de performance (ex.~: $3.5\%$).
  \item[CybMASDE :] Compare la moyenne des récompenses au seuil. Si supérieur, sauvegarde la politique et passe au déploiement. Sinon, active l'étape d'analyse.
\end{description}

\paragraph{7. Analyzing (ANL)}
\begin{description}
  \item[Utilisateur :] Peut consulter les spécifications organisationnelles extraites et décider de les corriger ou de les injecter.
  \item[CybMASDE :] Exécute Auto-\acn{TEMM} ou \acn{TEMM} : clustering des trajectoires (\acparen{DTW}, \acparen{LCS}), inférence de rôles et objectifs, calcul d'adéquation organisationnelle (\acn{SOF} + \acn{FOF}). Les résultats sont sauvegardés dans \textquote{analyzing/}. Avec Auto-\acn{TEMM}, les spécifications sont automatiquement déterminées sans que l'utilisateur ne puisse ajuster lui-même les hyperparamètres ce qui peut limiter la personnalisation.
\end{description}

\paragraph{8. Raffinement par itération}
\begin{description}
  \item[Utilisateur :] Relance l'entraînement avec les spécifications corrigées.
  \item[CybMASDE :] Réalise une boucle Analyse $\rightarrow$ Réinjection $\rightarrow$ Entraînement, jusqu'à atteindre le seuil ou un nombre maximal d'itérations. La meilleure politique est toujours conservée.
\end{description}

\paragraph{9. Transferring (TRF)}
\begin{description}
  \item[Utilisateur :] Déploie la politique validée dans l'environnement réel.
  \item[CybMASDE :] Assure le déploiement via deux modes :
    \begin{itemize}
      \item \textbf{REMOTE} : politique exécutée sur un serveur externe, les agents appliquent les actions reçues.
      \item \textbf{DIRECT} : politique embarquée dans les agents eux-mêmes.
    \end{itemize}
    Continue la collecte de traces et déclenche périodiquement de nouveaux cycles \acn{MTA}.
\end{description}

\paragraph{10. Fin du processus}
\begin{description}
  \item[Utilisateur :] Obtient une politique conjointe validée, assortie de statistiques de performance et stabilité, et de spécifications organisationnelles explicatives.
  \item[CybMASDE :] Fournit un \acn{SMA} complet, opérationnel et documenté, stockant tous les résultats dans l'arborescence du projet.
\end{description}

\medskip
En résumé, \acn{CybMASDE} automatise et structure la méthode \acn{MAMAD} à travers une chaîne modulaire \textbf{Modelling → Training → Analyzing → Transferring}, permettant à l'utilisateur de passer d'un environnement inconnu à un \acn{SMA} opérationnel, performant et explicable.

\section*{Architecture logicielle et aspects de développement de CybMASDE}

\paragraph{Vue d'ensemble}
\acn{CybMASDE} combine apprentissage (modélisation, entraînement), inférence organisationnelle et déploiement dans un environnement technologique cohérent. L'application est structurée autour d'un backend Python et d'une interface utilisateur, tous deux orchestrés via une \acn{API} \acn{REST}.

\footnotetext[1]{Code source et documentation disponible sur \url{https://github.com/julien6/CybMASDE}}


\subsection*{Socle technologique (développement)}

\begin{itemize}
  \item \textbf{Langage principal (backend)} : Python — intégrant des bibliothèques standards telles que \textquote{PyTorch}, \textquote{MARLlib}, \textquote{Ray RLlib}, \textquote{Optuna}, etc. Ce backend implémente entièrement les modules Modelling, Training, Analyzing et Transferring.
  \item \textbf{Interface utilisateur (frontend)} : développée avec Angular, elle offre une expérience graphique permettant à l'utilisateur de renseigner les paramètres d'un projet — notamment par glisser-déposer ou injection directe des fichiers d'historiques — sans manipuler l'arborescence de fichiers du projet.
  \item \textbf{\acn{API} REST} : point d'intégration clé entre front-end, back-end et ligne de commande, garantissant une interface cohérente et réutilisable quel que soit le mode d'utilisation.
  \item \textbf{\acn{CLI}} : l'ensemble des fonctionnalités du backend est exposé via une interface en ligne de commande, utilisant la même \acn{API} \acn{REST} que le frontend.
\end{itemize}

L'architecture de \acn{CybMASDE} démontre l'usage des frameworks et dépendances suivants :
\begin{itemize}
  \item \textquote{PyTorch} — entraînement des modèles \acn{VAE}, \acn{LSTM}.
  \item \textquote{MARLlib} + \textquote{Ray RLlib} — apprentissage multi-agents avec une grande variété d'algorithmes comme \acn{MAPPO}, QMix, \acn{MADDPG}, etc.
  \item \textquote{Optuna} — optimisation des hyperparamètres (learning rate, discount factor, \acn{PPO} clip value, etc.).
  \item \textquote{Angular} — développement de l'interface graphique.
  \item \textquote{Python 3.8 \& Angular v15} -- gestion des dépendances et environnement de développement.
\end{itemize}



\paragraph{Modularité et cycle de développement}
Le backend Python est organisé en modules correspondant aux étapes de la méthode \acn{MAMAD} :
\textit{Modelling}, \textit{Training}, \textit{Analyzing}, \textit{Transferring}, chacun activable via l'\acn{API} \acn{REST}.
Cette modularité facilite la maintenance, l'extensibilité et les tests unitaires (ex. injecter un modèle, remplacer un algorithme d'entraînement, personnaliser l'analyse). L'interface Angular communique avec ces modules de manière unifiée.

\paragraph{Schéma conceptuel}
La \autoref{fig:cybmasde_uml} montre une vue \textit{composant C4}~\cite{richards2019fundamentals} mettant en évidence les interactions entre :
\begin{itemize}
  \item \textsf{Frontend Angular} (\acparen{UX} interactive du projet),
  \item \textsf{Backend Python}, modules \acn{MTA}+T,
  \item \textsf{\acn{API} REST} comme couche d'interface commune,
  \item \textsf{Systèmes cibles} (environnements via PettingZoo ou APIs spécifiques).
\end{itemize}

\begin{figure}
  \centering
  \includegraphics[trim={2.25cm 9cm 2.25cm 10cm},clip,width=\textwidth]{figures/CybMASDE_internal_component_diagram.pdf}
  \caption{Diagramme de composants UML illustrant l'architecture logicielle de CybMASDE}
  \label{fig:cybmasde_uml}
\end{figure}

\section{Intégration des différentes contributions}

\subsection{Implémentation du modèle Dec-POMDP pré-spécialisé pour la Cyberdéfense}

En complément de la modélisation automatique basée sur des \textit{World Models}, nous proposons une approche de modélisation manuelle guidée par un modèle pré-spécialisé pour les environnements de Cyberdéfense.
Le développement du formalisme \acn{Dec-POMDP} appliqué à ce domaine a conduit à un modèle que nous appelons \acn{MCAS}. Celui-ci constitue une instance particulière de \acn{Dec-POMDP} adaptée aux scénarios de Cyberdéfense.

Une implémentation Python de ce modèle est fournie dès la création d'un projet dans le fichier
\textit{modelling/simulated\_environment/handcrafted\_environment.py}
Par défaut, ce fichier est un \textit{gabarit} à compléter. L'utilisateur doit y définir les composantes du modèle (espaces d'observations, espaces d'actions, dynamique de transition, fonction de récompense, fonction d'arrêt) en respectant le formalisme \acn{Dec-POMDP} et l'interface attendue par \acn{CybMASDE}.


Une fois complété, ce modèle est automatiquement intégré dans le cycle de \acn{CybMASDE} et peut être utilisé comme environnement de simulation pour l'entraînement multi-agent. L'exécution peut être réalisée en mode \textit{tour à tour}, permettant :
\begin{itemize}
  \item la visualisation en temps réel des propriétés de l'environnement et des agents,
  \item la représentation de l'environnement sous forme de graphe,
  \item l'affichage de métriques de suivi (récompenses, états, actions).
\end{itemize}
En complément du code Python, une représentation \textquote{JSON} du modèle est également possible. Elle permet de décrire :
\begin{itemize}
  \item les propriétés des nœuds et des actions de l'environnement,
  \item les agents définis et leurs comportements,
  \item les interactions globales du système.
\end{itemize}

\medskip
Ainsi, l'instance de simulation \textbf{MCAS} offre une alternative manuelle et structurée à la modélisation automatique, facilitant la construction d'environnements de simulation adaptés à des scénarios de Cyberdéfense tout en restant compatible avec la chaîne \acn{MTA}+T de \acn{CybMASDE}.

\subsection{Implémentation du framework MOISE+MARL}

Nous avons développé une implémentation du cadre MOISE+MARL appelée \textquote{MMA}~\hyperref[fn:github]{\footnotemark[2]} (\acn{API} MOISE+MARL), qui est une \acn{API} Python intégrant tous les ensembles et relations théoriques afin de minimiser les interactions avec l'utilisateur. \acn{MMA} utilise une approche orientée objet, structurant le modèle $\mathcal{M}OISE^+$ en classes de données imbriquées, avec la classe \textquote{Moise} à la racine, permettant aux utilisateurs de définir des spécifications organisationnelles, telles que les rôles, les objectifs et les autorisations.

\footnotetext[2]{ \label{fn:github} L'implémentation \textquote{MOISE+MARL API} (\acn{MMA}), les hyperparamètres et spécifications utillisés sont disponibles à \url{https://github.com/julien6/MOISE-MARL}.}

Pour prendre en charge les environnements \acn{Dec-POMDP}, nous avons utilisé la bibliothèque \textit{PettingZoo}~\cite{terry2020pettingzoo}\index{PettingZoo}, qui fournit une \acn{API} standard pour les \acplu{SMA} et garantit l'interopérabilité entre différents environnements, à l'instar du framework Gymnasium~\cite{kwiatkowski2024}. \acn{MMA} intègre un dictionnaire pour le mappage des étiquettes d'observation/action ($l$), que les utilisateurs peuvent personnaliser, et prend également en charge les modèles de trajectoire \acn{TP} pour faciliter la définition et la correspondance des modèles.

Chaque type de guide de contrainte, comme $rag$, $rrg$ et $grg$, est implémenté dans une classe distincte. Les utilisateurs peuvent définir ces guides à l'aide de fonctions personnalisées ou de règles \acn{JSON}~; par exemple, $rag$ peut être instancié en associant une paire $\langle \text{\acn{TP}, dernière observation} \rangle$ aux actions attendues, tandis que $grg$ peut appliquer des bonus en fonction de \acn{TP} spécifiques. La classe globale \textquote{\acn{MMA}} intègre ces guides avec des relations définies par l'utilisateur, telles que la liaison d'un agent à un rôle ($ar$) ou l'association d'un rôle à $rrg$ et $rag$, en incorporant les spécifications organisationnelles définies dans la structure $\mathcal{M}OISE^+$.

Une fois configuré, l'objet \acn{MMA} est utilisé pour encapsuler l'environnement avec un wrapper \textit{PettingZoo}. Ce wrapper applique des masques d'action et modifie les récompenses à chaque étape, garantissant que les agents respectent les spécifications organisationnelles tout au long de la formation. \acn{MMA} intègre également \textit{MARLlib}~\cite{hu2021marlib}\index{MARLlib}, qui donne accès à un ensemble représentatif d'algorithmes \acn{MARL}, permettant ainsi d'exécuter l'entraînement sur un cluster informatique haute performance.

Après l'entraînement, la méthode \acn{TEMM} est utilisée, en utilisant des hyperparamètres optimisés manuellement pour déduire les rôles et les objectifs implicites grâce à un regroupement hiérarchique et à la méthode K-means. Cette analyse génère des résultats visuels, tels que des dendrogrammes pour les rôles et des graphiques de transition d'observation conjointe pour les objectifs. Les rôles et les objectifs implicites qui en résultent peuvent être exportés sous forme de trajectoires \acn{JSON}, offrant une vue structurée des comportements organisationnels déduits.

\section{Bilan}

Ce chapitre a démontré la faisabilité et la pertinence de la méthode \acn{MAMAD} via son implémentation sur la plateforme \acn{CybMASDE}. L'approche modulaire, articulée autour des activités de modélisation, d'entraînement, d'analyse et de transfert, s'est adaptée à des scénarios variés, des environnements jouets aux cas réels en Cyberdéfense et microservices.

L'intégration de MOISE+MARL dans le pipeline d'apprentissage multi-agent a permis d'obtenir des politiques plus robustes, explicables et conformes aux objectifs organisationnels. Les résultats expérimentaux montrent une accélération de la convergence, une meilleure stabilité, moins de violations de contraintes et une capacité à extraire automatiquement des rôles et missions cohérents.

Malgré ces apports, des limites subsistent : dépendance à la qualité des traces, besoins computationnels élevés, difficulté de généralisation à des systèmes distribués contraints, et explicabilité encore perfectible. Ce chapitre pose ainsi les bases pour une automatisation avancée de la conception organisationnelle en \acn{MARL}, ouvrant la voie à des optimisations futures et à des applications sur des \acplu{SMA} réels.

\clearpage
\thispagestyle{empty}
\null
\newpage


\chapter{Cadre expérimental et d'évaluation}
\label{chap:cadre_experimental}

Le but de ce chapitre est de définir un cadre expérimental générique, applicable à tous les cas d'étude présentés dans le \autoref{chap:case_studies}. L'objectif est de fournir un \textit{canevas} que chaque scénario peut instancier en précisant les éléments choisis de la méthode \acn{MAMAD}. Ce cadre s'appuie sur la méthode \acn{MAMAD}, la taxonomie des activités et sous-activités présentée en \autoref{tab:mamad_taxonomy}, et les critères d'évaluation définis précédemment.

\section{Description des ensembles d'environnements et algorithmes considérés}

Pour garantir la généralité et la robustesse de l'évaluation, nous considérons un ensemble varié d'environnements de référence issus de la littérature \acn{MARL}~:
\begin{itemize}
  \item \textbf{Overcooked-AI}~\cite{overcookedai}: environnement de type jouet coopératif complexe nécessitant coordination et planification séquentielle.
  \item \textbf{Predator-Prey}~\cite{lowe2017multi}: environnement  de type jouet de poursuite-évasion, utilisé pour tester la coordination et la compétition.
  \item \textbf{Warehouse Management} : un environnement  de type jouet original que nous avons proposé pour simuler la gestion logistique multi-agent avec contraintes de flux et de ressources.
  \item \textbf{Company Infrastructure}~\cite{cyberbattlesim}: une simulation d'attaques et de défenses sur un réseau, inspirée de MITRE ATT\&CK.
  \item \textbf{Drone Swarm}~\cite{cage_challenge_3_announcement}: une simulation d'un essaim de drones soumis à des attaques logicielles et nécessitant une défense collective.
  \item \textbf{Microservices Kubernetes} : un environnement réel constitué d'un cluster de quatres micro-services interconnectés et que nous avons proposé pour l'orchestration de microservices avec auto-scaling et résilience face à des défaillances intentionelles.
\end{itemize}

L'environnement \textbf{Microservices Kubernetes} se distingue des autres par sa nature réelle : il s'agit d'un système de quatre services interconnectés, alors que les autres environnements sont simulés. Pour des raisons pratiques, l'environnement simulé sert de référence << réelle >>, ce qui permet d'appliquer \acn{MAMAD} comme sur un système opérationnel, le \textit{World Model} jouant ici le rôle d'une simulation de la simulation. Ce choix valide le principe de \acn{MAMAD} : si le \textit{World Model} reconstruit à partir de traces est suffisamment fidèle, les politiques apprises peuvent être transférées efficacement, facilitant ainsi la comparaison entre simulation et réalité. Dans ce scénario, l'environnement \textbf{Microservices Kubernetes} est directement exploitable avec \acn{MAMAD} sans nécessiter de modélisation supplémentaire, et le transfert (\textbf{TRF}) s'effectue vers ce système réel, démontrant la validité de l'approche dans un contexte opérationnel.

\medskip

Les algorithmes \acn{MARL} sélectionnés couvrent les principales familles reconnues dans la littérature~:
\begin{itemize}
  \item \acn{MAPPO}~\cite{Yu2022}\index{MAPPO}~: algorithme basé sur \acn{PPO}~\cite{Schulman2017} adapté au multi-agent, utilisant des politiques centralisées pour stabiliser l'apprentissage tout en permettant une exécution décentralisée.
  \item \acn{MADDPG}~\cite{lowe2017multi}\index{MADDPG}~: méthode d'apprentissage par gradient déterministe, combinant des politiques individuelles avec une critique centralisée pour gérer la non-stationnarité multi-agent.
  \item \acn{QMIX}~\cite{rashid2018qmix}\index{QMIX}~: algorithme de factorisation de valeur, combinant les valeurs Q individuelles des agents via un réseau de mélange non linéaire pour optimiser une récompense globale.
  \item \acn{COMA}~\cite{foerster2018counterfactual}\index{COMA}~: approche basée sur l'acteur-critique, utilisant une estimation contrefactuelle pour attribuer précisément la contribution de chaque agent à la récompense collective.
  \item \acn{IQL}~\cite{Jiang2022}\index{IQL}~: chaque agent apprend sa propre fonction Q de façon indépendante, sans coordination explicite, ce qui peut entraîner une non-stationnarité mais reste simple à mettre en œuvre.
  \item \acn{VDN}~\cite{sunehag2018value}\index{VDN}~: décompose la valeur globale en une somme des valeurs individuelles des agents, facilitant l'apprentissage coopératif tout en conservant une structure simple.
\end{itemize}
Les environnements sont implémentés via \textit{PettingZoo}~\cite{terry2020pettingzoo} et les algorithmes via \textit{MARLlib}~\cite{hu2022marllib}.

\section{Conditions de reproductibilité}

\subsection{Conditions expérimentales matérielles}
\label{par:compute_conditions}
Les expériences sont réalisées sur un \textbf{cluster \acn{HPC} académique}. Sauf mention contraire, les constantes suivantes s'appliquent à tous les scénarios~:
\begin{itemize}
  \item \textbf{Accélérateurs}~: \acn{NVIDIA} A100 / V100, \acn{AMD} MI210.
  \item \textbf{Frameworks DL}~: PyTorch~\cite{Paszke2019} et TensorFlow~\cite{Abadi2016} (implémentations \acn{MARLlib}/\acn{MAPPO}, etc.)\index{PyTorch}.
  \item \textbf{Optimisation d'hyperparamètres}~: \textbf{Optuna}~\cite{akiba2019optuna} (\acn{TPE}) pour \acn{LR}, exploration/exploitation, tailles de réseaux ; espace de recherche standardisé par famille d'algorithmes.
  \item \textbf{Parallélisme}~: $\sim$ 5 exécutions indépendantes par condition (algorithme $\times$ environnement $\times$ contrainte).
  \item \textbf{\acn{OS} et libs}~: Linux 64-bit, \acn{CUDA}/cuDNN ou ROCm selon \acn{GPU} ; environnements figés (conda/pip).
\end{itemize}
Les études de cas ne rappellent que les \textbf{déviations spécifiques} (ex. nombre de runs, \acn{GPU} particulier).

\subsection{Gestion des hyperparamètres (par défaut et surcharges)}
Chaque couple \{algorithme, environnement\} est initialisé avec un \textit{profil standard} issu de \acn{MARLlib} et d'expériences préliminaires.
Une passe d'\acn{HPO} contrôlée peut être réalisée avec \textbf{Optuna} (budget borné, mêmes priorités d'espace de recherche entre scénarios)~\cite{akiba2019optuna}. Le meilleur \textit{trial} est ensuite \textbf{rejoué 5 fois} pour agrégation des résultats.
Les scénarios peuvent :
\begin{enumerate}[label=\alph*)]
  \item accepter les valeurs par défaut,
  \item restreindre l'\acn{HPO},
  \item surcharger explicitement certains hyperparamètres.
\end{enumerate}

\section{Baselines expérimentales}

Une baseline expérimentale est un ensemble de données qui servent à la reproduction de l'experimentation. Dans notre cas, une baseline inclue~:
\begin{itemize}
  \item \textbf{Activités} : Une sélection d'activités \acn{MAMAD}.
  \item \textbf{Algorithme} : Un algorithme \acn{MARL} ou un autre algorithme issu de la littérature susceptible de permettre aux agents d'atteindre leurs objectifs avec une autre approche.
  \item \textbf{Spécifications organisationnelles} : Un ensemble de spécifications organisationnelles de type MOISE+MARL si l'algorithme choisi appartient au domaine du \acn{MARL}.
  \item \textbf{Environnement} : Un environnement avec variantes des scénarios (ex. Overcooked-AI~\cite{overcookedai}, Predator-Prey~\cite{lowe2017multi}, Drone Swarm~\cite{cage_challenge_3_announcement}).
  \item \textbf{Métriques spécifiques} : Un ensemble de métriques spécifiques à l'environnement ou l'étude (spécifiques à l'environnement).
  \item \textbf{Conditions d'exécution} : Un ensemble de conditions d'exécution (nb de runs, seeds, matériel, perturbations éventuelles).
\end{itemize}

Chaque baseline peut être représentée sous forme tabulaire en précisant ces éléments pour assurer la comparabilité et la reproductibilité. L'interêt d'établir des baselines est de fournir des points de référence clairs pour évaluer l'impact des différentes composantes de la méthode \acn{MAMAD}. En comparant les performances obtenues avec ces baselines, il devient possible d'identifier les contributions spécifiques de chaque activité (modélisation, entraînement, analyse, transfert) ainsi que l'effet des spécifications organisationnelles sur le comportement et l'efficacité du \acn{SMA}.

\section{Grille d'évaluation}\label{sec:evaluation_grid}

\subsection{Critères et métriques associées}\label{sec:criteria_metrics}
L'évaluation s'appuie sur une grille de critères inspirée des recommandations de la communauté \acn{RL}/\acn{MARL}~\cite{papoudakis2021agent} :

\begin{table}[h!]
  \centering
  \caption{Correspondance entre critères globaux et métriques}
  \renewcommand{\arraystretch}{1.2}
  \begin{tabular}{ll}
    \hline
    \textbf{Critère}   & \textbf{Métriques associées}                                       \\
    \hline
    C1 – Autonomie     & Proportion d'intervention (conception / fonctionnement)            \\
    C2 – Performance   & Récompense cumulée ; Taux de convergence                           \\
    C3 – Adaptation    & Écart-type des récompenses ; Score de robustesse                   \\
    C4 – Contrôle      & Taux de violation des contraintes ; Score de cohérence             \\
    C5 – Explicabilité & Adéquation organisationnelle ; Qualité des spécifications inférées \\
    \hline
  \end{tabular}
  \label{tab:grille}
\end{table}

Ces différentes métriques visent à déterminer dans quelle mesure les cinq critères globaux (C1--C5) sont couverts sur une baseline donnée.
Chaque métrique est décrite séparément pour plus de clarté.

\paragraph{Proportion d'intervention (conception / fonctionnement).}\index{Proportion d'intervention}
\textit{Unité : pourcentage (\%). Source : logs d'utilisation de la plateforme, questionnaires utilisateurs, scripts d'automatisation, nombre de cycle de raffinement, estimations manuelles.}
Elle est calculée comme le rapport suivant :
\[
  \hspace{2.5cm}\frac{\text{temps estimé pour la conception automatisée}}{\text{temps estimé pour la conception manuelle}}
\]
Cette proportion, moins précise, vise à quantifier au moins approximativement l'impact de l'automatisation sur le processus de conception : quel pourcentage d'interventions manuels est nécessaire pour atteindre des performances similaires à des \acplu{SMA} conçus et implémentés manuellement. Elle peut être estimée via l'instrumentation logicielle en indiquant qu'un nombre de cycles de raffinement important augmente la proportion d'intervention (i.e le ratio du nombre de cycle utilisé par rapport au nombre de \textquote{cycles} empiriques de conception manuelle). Considérant l'environnement déjà modélisé, cette proportion est aussi obtenue manuellement par estimation du temps passé (en nombre d'heures) durant la conception totalement manuelle, ce qui dans notre méthode correspond au temps estimé passé (en nombre d'heures) dans les cycle de raffinement alternant entre d'entraînement et analyse.

\paragraph{Récompense cumulée.}\index{Récompense cumulée}
\textit{Unité : valeur numérique sans unité (souvent normalisée). Source : logs d'entraînement \acn{MARLlib}/RLlib, fichiers de résultats d'épisodes.}
Il s'agit de la somme des récompenses obtenues par tous les agents sur un épisode ou sur une fenêtre glissante.
Elle est extraite automatiquement via des scripts d'analyse.

\paragraph{Taux de convergence.}\index{Taux de convergence}
\textit{Unité : nombre d'épisodes (entier). Source : courbes d'apprentissage, logs d'entraînement.}
Il correspond au nombre d'épisodes nécessaires pour que la moyenne des récompenses dépasse un seuil prédéfini et reste stable.
Le calcul est automatisé par détection de plateau sur la courbe d'apprentissage.

\paragraph{Écart-type des récompenses.}\index{Écart-type des récompenses}
\textit{Unité : identique à la récompense (souvent sans unité). Source : logs d'entraînement, résultats de runs multiples.}
Cette métrique correspond à l'écart-type statistique des récompenses moyennes entre plusieurs runs indépendants.
Elle est calculée automatiquement lors de l'agrégation des résultats.

\paragraph{Score de robustesse.}\index{Score de robustesse}
\textit{Unité : ratio ou pourcentage (\%). Source : tests sous perturbations (pannes, attaques), logs d'épisodes.}
Il se définit comme :
\[
  \hspace{3.5cm}\frac{\text{performance sous perturbation}}{\text{performance nominale}}
\]
Ce score est obtenu en comparant les performances moyennes dans des scénarios perturbés et des scénarios de référence.
Les perturbations sont générées soit par des seeds différentes dans les environnements simulés, soit par des changements explicites (topologie, pannes, attaques, etc.).

\paragraph{Taux de violation des contraintes.}\index{Taux de violation des contraintes}
\textit{Unité : pourcentage (\%). Source : logs d'exécution, wrappers d'environnement, analyse post-hoc.}
La formule est :
\[
  \hspace{3.5cm}\frac{\text{nombre de violations détectées}}{\text{nombre total d'étape par épisode}}.
\]
Cette mesure évalue la capacité des agents à respecter les règles imposées par leurs rôles.
Elle varie avec la dureté des contraintes : un taux nul est attendu lorsque la dureté est maximale, et un taux élevé lorsque les contraintes sont nulles.
Les valeurs intermédiaires doivent être analysées en lien avec la récompense cumulée afin d'identifier d'éventuelles règles trop contraignantes qui réduiraient les performances globales.

\paragraph{Score de cohérence.}\index{Score de cohérence}
\textit{Unité : ratio (0–1) ou pourcentage (\%). Source : clustering des trajectoires, analyse \acn{TEMM}/Auto-\acn{TEMM}.}
Ce score mesure la similarité entre les comportements observés et les rôles attendus (pureté de clusters, F1-score).
L'idée est de comparer les spécifications organisationnelles originales avec celles inférées automatiquement.
Plus la distance entre les deux ensembles de trajectoires est faible, plus le score de cohérence est élevé, indiquant une bonne prise en compte des spécifications organisationnelles par MOISE+MARL et une capacité d'inférence fiable de \acn{TEMM}/Auto-\acn{TEMM}.

\paragraph{Adéquation organisationnelle.}\index{Adéquation organisationnelle}
\textit{Unité : ratio (0–1). Source : analyse \acn{TEMM}, matrices de correspondance rôles-missions.}
Comme expliqué précédemment en \autoref{sec:TEMM_algorithm}, elle est calculée comme une moyenne pondérée des scores structurels (\acn{SOF}) et fonctionnels (\acn{FOF}) avec $\alpha = 0.5$ par défaut :
\[
  \hspace{3.5cm}\text{OF} = \alpha \cdot \text{SOF} + (1-\alpha) \cdot \text{FOF}.
\]
Cette mesure quantifie à quel point les politiques apprises respectent la structure organisationnelle attendue.

\paragraph{Qualité des spécifications inférées.}\index{Qualité des spécifications inférées}
\textit{Unité : pourcentage (\%) ou score de similarité. Source : comparaison automatique entre spécifications inférées (\acn{JSON}, \acn{TEMM}) et spécifications de référence}.
Cette métrique mesure la qualité des spécifications organisationnelles inférées en comparant leur similarité avec les spécifications de référence, à l'aide d'indicateurs tels que l'indice de Jaccard~\cite{Jaccard1908} (proportion d'éléments partagés) ou la distance Euclidienne. Contrairement au score de cohérence, elle s'intéresse uniquement à la fidélité des spécifications extraites, indépendamment des politiques apprises. Le calcul repose sur une comparaison systématique entre les spécifications inférées et les spécifications initiales, en variant les scénarios pour évaluer la capacité de généralisation. L'objectif est de trouver un compromis entre la fidélité aux spécifications de départ et la capacité de généralisation, en évitant le surapprentissage et en limitant la complexité des règles ou objectifs inférés, tout en maximisant la similarité avec les trajectoires de référence.

\section{Protocole d'expérimentation et d'évaluation}\label{sec:protocole_experimental}

Le protocole expérimental proposé suit un raisonnement progressif semblable aux pratiques de la communauté~\cite{papoudakis2021agent}.
L'ensemble des étapes 1 à 4 constitue le protocole d'experimentation tandis que les étapes 5 et 6 concernent l'évaluation des résultats :

\paragraph{1. Configuration initiale}
Configuration requise incluant la mise en place de l'\acn{API} \acn{REST} de communication avec l'environnement et les différentes composantes requises pour modéliser l'environnement et autres données nécéssaires pour créer un projet \acn{CybMASDE} pour une baseline donnée.

\paragraph{2. Mise en place de la baseline avancée}
Définition d'au moins une \textbf{baseline avancée} considérée comme la \textbf{baseline par défaut} :
\begin{table}[h!]
  \centering
  \caption{Caractérisation générique de la \textquote{baseline avancée}}
  \label{tab:baseline_generic}
  \renewcommand{\arraystretch}{1.4}
  \footnotesize
  \begin{tabularx}{\textwidth}{
      >{\raggedright\arraybackslash\hsize=0.3\hsize}X
      >{\raggedright\arraybackslash\hsize=0.7\hsize}X
    }
    \hline
    \textbf{Élément}                  & \textbf{Valeur instanciée}                                                                                                      \\
    \hline
    Environnement                     & Nom de l'environnement et éventuelles variantes de scénarios (ex.~Overcooked-AI, layout classique).                             \\
    Activités \acn{MAMAD}             & \acn{MOD-AUT},\acn{TRN-CON},\acn{ANL-AUT},\acn{TRF-AUT}                                                                         \\
    Algorithme                        & Algorithme sélectionné avec son implémentation (ex.~\acn{MAPPO} via \acn{MARLlib}).                                             \\
    Spécifications organisationnelles & Ensemble MOISE+MARL contenant à la fois des rôles et des missions.                                                              \\
    Métriques spécifiques             & Indicateurs complémentaires propres à l'environnement (ex.~plats servis, taux de collisions, drones infectés, latence moyenne). \\
    Conditions d'exécution            & Nb de runs, seeds, type de matériel (\acn{CPU}/\acn{GPU}), perturbations/stress-tests.                                          \\
    \hline
  \end{tabularx}
\end{table}

\paragraph{3. Mises en place de baselines alternatives}
Definition possible d'autres baselines jouant sur d'autres paramètres tels que les algorithmes \acn{MARL}, les contraintes organisationnelles ou la modélisation en fonction des questions spécifiques de chaque scénario. Des base

\paragraph{4. Définition d'études d'ablation}
Réalisation d'au moins une \textbf{étude d'ablation} : chaque ablation consiste prendre la \textbf{baseline avancée} et à changer un ou plusieurs paramètres notamment à remplacer une ou plusieurs activités \acn{MAMAD} par des variantes moins avancées (par exemple, \textquote{\acn{ANL-MAN}} en utilisant \acn{TEMM} plutôt que Auto-\acn{TEMM}, ou \textquote{\acn{TRN-UNC}} sans contraintes organisationnelles) mais aussi à supprimer les contraintes organisationnelles, à changer d'algorithme, etc. Chaque ablation doit être justifiée en fonction des questions spécifiques de chaque scénario.

\paragraph{5. Comparaison et validation}
Comparaison systématique des résultats sur la grille d'évaluation (\autoref{tab:grille}) pour mesurer l'impact de chaque composant sur les critères cibles. L'analyse des résultats doit inclure des visualisations (courbes d'apprentissage, heatmaps, dendrogrammes, etc.) et une discussion critique des compromis observés (ex. performance vs. respect des contraintes).

\paragraph{6. Répétition et agrégation}
Répétition des expériences (5 runs indépendants, seeds consignées), agrégation statistique (moyenne, écart-type), et tests statistiques (t-test ou non paramétrique selon la normalité).


\section{Bilan}

Ce chapitre a posé les fondations méthodologiques de l'évaluation expérimentale de la méthode \acn{MAMAD}. En définissant un cadre générique, reproductible et structuré, il permet de comparer rigoureusement les performances, la robustesse et l'explicabilité de la méthode dans des environnements variés, allant des cas jouets aux systèmes réels. L'intérêt majeur de ce cadre est d'assurer la traçabilité des choix, la transparence des protocoles et la validité des résultats, tout en facilitant l'analyse critique des apports et des limites de chaque composant de la méthode. Ce dispositif méthodologique est essentiel pour garantir la crédibilité scientifique des expérimentations et pour identifier les leviers d'amélioration futurs. Les chapitres suivants s'appuient sur ce cadre pour instancier, analyser et discuter l'application de \acn{MAMAD} dans des contextes concrets, en mettant en lumière sa capacité à répondre aux critères d'autonomie, de performance, d'adaptation, de contrôle et d'explicabilité.


\clearpage
\thispagestyle{empty}
\null
\newpage


\chapter{Études de cas}
\label{chap:case_studies}

Ce chapitre présente les études de cas réalisées pour évaluer la méthode \acn{MAMAD} dans divers contextes. Chaque section détaille l'instanciation du cadre expérimental défini au \autoref{chap:cadre_experimental} pour un environnement spécifique, en précisant les choix méthodologiques et les configurations expérimentales.

\section{Expérimentations sur les environnements non-orientés Cyberdéfense}

Dans cette section, nous décrivons les expérimentations qui ont été menées sur un ensemble d'environnements de référence non orientés Cyberdéfense. L'objectif principal est de valider la méthode \acn{MAMAD} dans des contextes variés, en mettant l'accent sur la coordination, la compétition, et la gestion de ressources dans des environnements à observation partielle. Le but est d'avoir une preuve de concept que la méthode \acn{MAMAD} est applicable sur des cas simples. A partir de là, il est possible d'aborder efficacement son application à des scénarios strictement liés à la Cyberdéfense.

Cette section propose la même instance du protocole d'expérimentation de la \autoref{sec:protocole_experimental} (étapes 1 à 4) pour trois environnements non-orientés Cyberdéfense (\textit{Overcooked-AI}, \textit{Predator-Prey}, \textit{Warehouse Management}).
L'objectif est de décrire les expérimentations à mener pour appliquer le protocole d'évaluation de la \autoref{sec:protocole_experimental} (étape 5 à 6) dans le chapitre suivant afin de valider la méthode \acn{MAMAD} sur des contextes coopératifs/compétitifs variés, avec observation partielle et besoins de coordination.


\subsection{Description des environnements}

\subsubsection*{Overcooked-AI}

L'environnement \textbf{Overcooked-AI}~\cite{Carroll2019} simule un scénario de cuisine coopérative où les agents doivent collaborer pour préparer et servir des repas dans une cuisine structurée. Cet environnement est illustré dans \autoref{fig:overcooked}\index{Overcooked-AI}.

% \begin{enumerate*}[label={\roman*)}, itemjoin={; \quad}]
\begin{itemize}
  \item \textbf{Espace d'état :} Une cuisine discrète basée sur une grille avec des postes de travail (planche à découper, cuisinière, comptoir de service), des ingrédients et des agents
  \item \textbf{Espace d'observation :} Les agents observent les éléments de la cuisine dans un rayon défini
  \item \textbf{Espace d'action :}
        \begin{enumerate*}[label={\roman*)}, itemjoin={; \quad}]
          \item Déplacement : \textquote{Haut, Bas, Gauche, Droite}
          \item Interagir : \textquote{Choisir un ingrédient, couper, cuisiner, servir}.
        \end{enumerate*}
  \item \textbf{Structure de récompense :}
        \begin{enumerate*}[label={\roman*)}, itemjoin={; \quad}]
          \item Préparation réussie du repas : $+20$
          \item Mauvaise utilisation des ingrédients : $-5$
          \item Comportement passif : $-1$ par étape sans action significative.
        \end{enumerate*}
  \item \textbf{objectif :} Maximiser le nombre de commandes de repas terminées dans un délai fixe.
\end{itemize}
% \end{enumerate*}
%
\textbf{Spécifications organisationnelles :}
% \begin{enumerate*}[label={\roman*)}, itemjoin={; \quad}]
\begin{itemize}
  \item \textbf{Rôles :} \textquote{Chef, assistant, serveur}
  \item \textbf{Missions :} Le chef prépare les plats, l'assistant fournit les ingrédients et le serveur sert les repas
  \item \textbf{Contraintes :} L'exécution des tâches doit être synchronisée afin d'éviter les goulots d'étranglement.
\end{itemize}
% \end{enumerate*}

\begin{figure}[h!]
  \centering
  \includegraphics[trim=0cm -0.5cm 0cm -0.5cm, clip, width=0.9\linewidth]{figures/overcooked.png}
  \caption[Capture d'écran de l'environnement Overcooked-AI]{Capture d'écran de l'environnement Overcooked-AI : deux agents (chefs cuisiniers) doivent collaborer pour préparer et servir efficacement des soupes à l'oignon. Le processus consiste à prélever trois oignons (un à la fois) dans le distributeur, à les placer dans une marmite, à attendre que la soupe cuise, à récupérer un plat propre, à dresser la soupe et à la livrer au comptoir de service. La disposition de la cuisine comprend des obstacles et des passages étroits, ce qui oblige les agents à coordonner leurs mouvements pour éviter les collisions et optimiser l'accomplissement des tâches.}
  \label{fig:overcooked}
\end{figure}

\subsubsection*{Predator-Prey}

L'environnement \textbf{Predator-Prey} est un benchmark \acn{MARL} bien connu~\cite{lowe2017multi}, conçu pour évaluer la coordination entre des poursuivants coopératifs (prédateurs) qui tentent de capturer un agent insaisissable (proie). Cet environnement est illustré dans \autoref{fig:predator_prey}\index{Predator-Prey}.
%
% \begin{enumerate*}[label={\roman*)}, itemjoin={; \quad}]
\begin{itemize}
  \item \textbf{Espace d'état :} Un espace 2D continu où les agents (prédateurs et proies) ont des positions $(x, y)$ et des vitesses
  \item \textbf{Espace d'observation :} Les agents détectent les entités proches dans un rayon limité $r$
  \item \textbf{Espace d'action :}
        \begin{enumerate*}[label={\roman*)}, itemjoin={; \quad}]
          \item Déplacement : \textquote{Haut, Bas, Gauche, Droite, Rester sur place}.
        \end{enumerate*}
  \item \textbf{Structure de récompense :}
        \begin{enumerate*}[label={\roman*)}, itemjoin={; \quad}]
          \item Les prédateurs gagnent $+50$ pour chaque proie capturée
          \item La proie gagne $+1$ par étape de temps survécue ;.
        \end{enumerate*}
  \item \textbf{objectif :} Les prédateurs doivent coopérer pour piéger la proie, tandis que celle-ci tente de s'échapper aussi longtemps que possible.
        % \end{enumerate*}
\end{itemize}
%
\textbf{Spécifications organisationnelles :}
% \begin{enumerate*}[label={\roman*)}, itemjoin={; \quad}]
\begin{itemize}
  \item \textbf{Rôles :} \textquote{Prédateur, Proie}
  \item \textbf{Missions :} Les prédateurs coordonnent leurs efforts pour encercler la proie ; la proie cherche les meilleurs chemins pour s'échapper
  \item \textbf{Contraintes :} Les prédateurs doivent trouver un équilibre entre poursuite agressive et stratégies de blocage.
        % \end{enumerate*}
\end{itemize}
%
\begin{figure}[h!]
  \centering
  \includegraphics[trim=0cm 4.5cm 0cm 1cm, clip,width=0.9\linewidth]{figures/predator_prey.png}
  \caption[Capture d'écran de l'environnement Predator-Prey]{Capture d'écran de l'environnement Predator-Prey : \textbf{agents verts} (coopératifs) et \textbf{agents rouges} (adversaires). Les agents verts ont pour objectif de collecter les aliments dispersés dans l'environnement tout en évitant d'être détectés par les agents rouges. L'environnement comprend des \textbf{zones forestières} qui offrent un abri ; lorsqu'un agent vert pénètre dans une forêt, il devient partiellement ou totalement invisible aux yeux des agents rouges. Un agent rouge agit en tant que \textbf{chef} avec des capacités d'observation améliorées et peut communiquer avec les autres agents rouges afin de coordonner leur poursuite.}
  \label{fig:predator_prey}
\end{figure}

\subsubsection*{Warehouse Management}

L'environnement \textbf{Warehouse Management}~\cite{warehouse_management} modélise un entrepôt logistique basé sur une grille où plusieurs robots doivent collaborer pour transporter efficacement les marchandises. Cet environnement s'inspire des scénarios d'automatisation des entrepôts industriels et constitue un banc d'essai idéal pour évaluer la répartition des tâches, la spécialisation des rôles et la coordination en temps réel. Cet environnement est illustré dans \autoref{fig:warehouse}\index{Warehouse Management}\index{Warehouse Management}.
%
% \begin{enumerate*}[label={\roman*)}, itemjoin={; \quad}]
\begin{itemize}
  \item \textbf{Espace d'état :} Une grille $N \times M$ où chaque cellule contient un robot, un produit, une machine de fabrication ou un lieu de dépôt. Le système suit les positions des agents, les niveaux de stock et les états des machines
  \item \textbf{Espace d'observation :} Chaque agent dispose d'une vue locale $V \times V$, lui permettant de percevoir les produits, ses coéquipiers et les machines à proximité
  \item \textbf{Espace d'action :}
        \begin{enumerate*}[label={\roman*)}, itemjoin={; \quad}]
          \item Déplacement : \textquote{Haut, Bas, Gauche, Droite}
          \item Interagir : \textquote{Prendre un produit, déposer un produit}.
        \end{enumerate*}
  \item \textbf{Structure de récompense :}
        \begin{enumerate*}[label={\roman*)}, itemjoin={; \quad}]
          \item Livraison réussie du produit : $+10$
          \item Déplacement inefficace : $-1$ par étape inutile
          \item Mauvaise manipulation du produit : $-5$ pour les livraisons incorrectes.
        \end{enumerate*}
  \item \textbf{objectif :} Transporter les matières premières vers les machines de transformation et livrer les produits finis aux lieux de livraison.
        % \end{enumerate*}
\end{itemize}
%
\textbf{Spécifications organisationnelles :}
% \begin{enumerate*}[label={\roman*)}, itemjoin={; \quad}]
\begin{itemize}
  \item \textbf{Rôles :} \textquote{Transporteur, gestionnaire des stocks}
  \item \textbf{Missions :} Les transporteurs acheminent les produits, tandis que les gestionnaires des stocks supervisent les niveaux des stocks
  \item \textbf{Contraintes :} Les transporteurs doivent donner la priorité aux livraisons essentielles.
\end{itemize}
% \end{enumerate*}

\begin{figure}[h!]
  \centering
  \includegraphics[trim=0cm 3cm 0cm 3cm, clip, width=0.9\linewidth]{figures/wm.png}
  \caption[Capture d'écran de l'environnement de Warehouse Management]{Capture d'écran de l'environnement de Warehouse Management : les agents peuvent se déplacer vers le haut, le bas, la gauche et la droite. Plusieurs agents opèrent au sein d'une grille d'entrepôt, effectuant des tâches pour traiter et livrer des produits. Les agents peuvent se déplacer dans quatre directions (haut, bas, gauche, droite) et interagir avec les zones de prélèvement/dépôt lorsqu'ils sont adjacents. Le flux de travail comprend : (i) la collecte des produits primaires dans les zones de prélèvement/dépôt du convoyeur d'entrée (zones bleues) ; (ii) leur transport vers les zones de prélèvement/dépôt des machines de fabrication (zones marron), où les produits primaires sont transformés en un seul produit secondaire selon un schéma de fabrication prédéfini ; (iii) la récupération des produits secondaires obtenus et leur livraison aux zones de prélèvement/dépôt du convoyeur de sortie (zones roses). Pour que l'opération soit réussie, les agents doivent coordonner leurs mouvements et leurs actions afin d'optimiser le débit et l'efficacité au sein de l'entrepôt.}
  \label{fig:warehouse}
\end{figure}


\subsection{Description de l'instance commune du protocole d'experimentation}

\paragraph{1. Configuration initiale}

Nous utilisons les implémentations \emph{PettingZoo} de \phantom{X} \textbf{Overcooked-AI}, \textbf{Predator-Prey} et \textbf{Warehouse Management} comme \emph{environnements réels} au sens de \textquote{CybMASDE}. Concrètement, pour un environnement donné, une instance du jeu est lancée en tâche de fond et exposée via un adaptateur \acn{REST} conforme à l'\acn{API} d'I/O de \textquote{CybMASDE} (observations jointes, masques d'actions, \emph{step}/\emph{reset}). Cette passerelle permet (i) la collecte de traces pour la modélisation (\textquote{\acn{MOD-AUT}}) ; (ii) l'entraînement \acn{MARL} avec contraintes organisationnelles ; (iii) l'analyse organisationnelle (\textbf{ANL}) ; (iv) le transfert (\textbf{TRF}) vers l'exécuteur simulé standardisé.
Pour \textquote{\acn{MOD-AUT}}, un \emph{Joint-Observation Prediction Model} (\acn{JOPM}, \acn{VAE}+\acn{LSTM}) est entraîné sur les historiques collectés (politiques aléatoires et politiques préliminaires) afin d'apprendre la dynamique $\langle o_{1:t},a_{1:t} \rangle \mapsto o_{t+1}$ et une fonction d'arrêt dérivée. La fonction de récompense reconstruite à partir des traces est validée par recoupement avec la récompense native de l'environnement. Le mappage \emph{labels} observation/action ($l_o, l_a$) est défini pour synchroniser \textquote{PettingZoo} et \textquote{MMA} (MOISE+MARL), activer le masquage d'actions et l'injection de bonus/malus par rôle. L'entraînement s'appuie sur \textquote{MARLlib}/\textquote{RLlib} (profil \textquote{MAPPO} par défaut, \textquote{Optuna} activé), avec \textit{seeds} fixées et 5 exécutions indépendantes conformément au \autoref{chap:cadre_experimental}. Les ressources matérielles suivent celles présentées \autoref{par:compute_conditions} ; seules les dérogations (longueur d'épisode, fréquence de log) sont précisées dans les résultats.

\paragraph{2 à 4. Définition des baselines}

Pour les trois environnements, nous définissons une \textbf{baseline avancée par défaut} et des \textbf{baselines alternatives} (ablations) qui varient les activités \acn{MAMAD}, l'algorithme \acn{MARL}, le mode d'intégration des contraintes et leur dureté, afin d'isoler l'apport de chaque composant (guidage organisationnel, modélisation, analyse). Nous ne prenons pas en compte de métriques spécifiques comme les \emph{plats servis}/épisode, collisions, pas inactifs, temps jusqu'au palier de performance pour Overcooked-AI par exemple. La \autoref{tab:baselines_non_cyberdefense} résume les baselines expérimentales prévues pour l'ensemble des trois environnements.


\begin{table*}[h!]
  \centering
  \caption{Baselines synthétiques pour les environnements non-orientés Cyberdéfense.}
  \label{tab:baselines_non_cyberdefense}
  \renewcommand{\arraystretch}{1}
  \tiny
  \begin{tabularx}{\textwidth}{
      >{\raggedright\arraybackslash\hsize=0.3\hsize}X
      >{\raggedright\arraybackslash\hsize=0.15\hsize}X
      >{\raggedright\arraybackslash\hsize=0.15\hsize}X
      >{\raggedright\arraybackslash\hsize=0.3\hsize}X
    }
    \toprule
    \textbf{Profil d'activités MAMAD} & \textbf{Algorithmes MARL} & \textbf{Contraintes org. (dureté)} & \textbf{Commentaires}                                                                             \\
    \midrule
    % --- Profil A (Défaut) ---
    \multirow{3}{*}{\parbox{3.8cm}{\textbf{Profil A — Défaut}                                                                                                                                              \\\acn{MOD-AUT};\;\acn{TRN-CON};\;\acn{ANL-AUT};\;\acn{TRF-AUT}}}
                                      & \acn{MAPPO}               & Oui (1.0)                          & Masquage d'actions + shaping par rôle (\acn{MMA}) ; \acn{JOPM} activé pour \acn{MOD-AUT}.         \\
                                      & \;\acn{MADDPG}            & Douces (0.5)                       & Contraintes atténuées : bonus/malus et masques partiels ; même pipeline que défaut.               \\
                                      & \acn{QMIX}                & Aucune (0.0)                       & \textit{Ablation} : \acn{TRN-UNC}, récompense native de l'environnement, reste inchangé.          \\
    \hdashline
    % --- Profil B (Analyse manuelle) ---
    \multirow{3}{*}{\parbox{3.8cm}{\textbf{Profil B — Analyse manuelle}                                                                                                                                    \\\acn{MOD-AUT};\;\acn{TRN-CON};\;\acn{ANL-MAN};\;\acn{TRF-AUT}}}
                                      & \acn{MAPPO}               & Oui (1.0)                          & Paramétrage manuel de \acn{TEMM} ; règles/masques édités à la main.                               \\
                                      & \acn{COMA}                & Douces (0.5)                       & Guidage souple : pénalités réduites ; vérification post-hoc par \acn{TEMM} ajusté manuellement.   \\
                                      &                           & Aucune (0.0)                       & \acn{TRN-UNC} ; analyse \acn{TEMM} uniquement pour explicabilité/diagnostic, sans réinjection.    \\
    \hdashline
    % --- Profil C (Cycle principalement manuel) ---
    \multirow{3}{*}{\parbox{3.8cm}{\textbf{Profil C — Cycle principalement manuel}                                                                                                                         \\\acn{MOD-MAN} ; \acn{TRN-CON} ; \acn{ANL-MAN} ; \acn{TRF-MAN}}}
                                      & \acn{IQL}                 & Oui (1.0)                          & Environnement \textquote{handcrafted} ; hyperparamètres fixés ; transfert et déploiement manuels. \\
                                      & \acn{VDN}                 & Douces (0.5)                       & Contraintes souples définies manuellement (rôles/missions + barèmes adoucis).                     \\
                                      & \acn{MADDPG}              & Aucune (0.0)                       & \acn{TRN-UNC} entièrement manuel ; base minimale sans guidage organisationnel.                    \\
    \bottomrule
  \end{tabularx}
\end{table*}



\section{Expérimentations sur l'environnement Company Infrastructure}
\textbf{Company Infrastructure}~\cite{cyberbattlesim}: une simulation d'attaques et de défenses sur un réseau,.

L'environnement \textbf{Company Infrastructure} est une simulation inspirée du simulateur CyberbatlleSim~\cite{cyberbattlesim} et de MITRE ATT\&CK~\cite{MITREATTACKWebiste}. Cet environnement a été developpé avec le \acn{Dec-POMDP} pré-spécialisé pour la Cyberdéfense et avec \acn{MCAS} intégré à \acn{CybMASDE}. Il simule un réseau d'entreprise découpé en sous-réseaux (EXT, DMZ, ACC, MAR, SRV) où des \emph{agents cyber-attaquants} et \emph{agents cyber-défenseurs} interagissent via des actions à pré/post-conditions, selon un formalisme \emph{Dec-POMDP}. La topologie synthétique est illustrée en \autoref{fig:scenario_network_topology}, et les chemins d'attaque/défense sont structurés via un arbre Attaque–Défense (\autoref{fig:ADTree})\index{Company Infrastructure}.

% \begin{enumerate*}[label={\roman*)}, itemjoin={; \quad}]
\begin{itemize}
  \item \textbf{Espace d'état :} Un ensemble de \emph{propriétés} discrètes décrivant l'état des nœuds du réseau (fichiers, services actifs, versions, règles de pare-feu, sessions, journaux, connaissances d'agents). La topologie comprend~:
        \begin{enumerate*}[label={\alph*)}, itemjoin={; \ }]
          \item \textbf{EXT} : deux postes d'attaquants \textquote{At1, At2}
          \item \textbf{DMZ} : \textquote{\acn{WS}, \acn{ES}, \acn{VPN}, FTP}
          \item \textbf{ACC} : \textquote{E1, E2, CTO}
          \item \textbf{MAR} : \textquote{\acn{PS}, E3, \allowbreak \acn{TAB}}
          \item \textbf{SRV} : \textquote{\acn{API}, \acn{DB}, DC}.
        \end{enumerate*}
        Les transitions modifient l'ensemble des propriétés (ajout/suppression/mise à jour) quand les pré-conditions d'action sont satisfaites
  \item \textbf{Espace d'observation :} Observations partielles spécifiques à chaque agent (relation $Obs$) — contenus de fichiers/journaux, résultats de commandes, scans de ports, états de sessions, alertes de détection. Les observations sont retournées après application d'action et dépendent de la visibilité locale (capteurs, privilèges)
  \item \textbf{Espace d'action :} Actions à \emph{pré-conditions} (conjonctions/disjonctions de propriétés) et \emph{post-conditions} (écritures sur l'état), réparties en grandes familles~:
        \begin{enumerate*}[label={\alph*)}, itemjoin={; \ }]
          \item \textbf{Attaquants} : \textquote{Reconnaissance réseau/compte}, \textquote{Exploiter vulnérabilité service}, \textquote{Élévation de privilèges}, \textquote{Mouvement latéral}, \textquote{Persistance (ex.~backdoor)}, \textquote{Exfiltration \allowbreak de données (\acn{DB})}, \textquote{Installation spyware (\acn{PS})}
          \item \textbf{Défenseurs} : \textquote{Détection journaux (\acn{WS})}, \textquote{Gestion comptes privilégiés (\acn{PAM})}, \textquote{Surveillance \allowbreak commandes/arguments (\acn{DB})}, \textquote{Blocage trafic/règles FW}, \textquote{Suppression sessions malveillantes}, \textquote{Restauration services}.
        \end{enumerate*}
  \item \textbf{Structure de récompense :} Fonction $R = Eval \circ Metrics$ évaluant l'état \& l'action par des métriques (progrès d'attaque vers les objectifs, détections, sessions supprimées, intégrité des services, etc.) :
        \begin{enumerate*}[label={\alph*)}, itemjoin={; \ }]
          \item \textbf{Attaquants} : bonus de progression le long de l'\acn{AD}-tree ($+r_{\small step}$), objectifs ultimes : \textquote{Exfiltration DB} et \textquote{Spyware PS} ($+R_{\small goal}$), pénalités si détectés/neutralisés ($-\lambda_{\small det}$)
          \item \textbf{Défenseurs} : bonus détection/prévention ($+r_{\small det}$), suppression sessions ($+r_{\small purge}$), maintien disponibilité/Intégrité ($+r_{\small avail}$), pénalités si objectifs attaquants atteints ($-\Lambda_{\small goal}$).
        \end{enumerate*}
  \item \textbf{Objectif :} \textbf{Attaquants} — atteindre \emph{Exfiltration DB} et \emph{Spyware PS} en minimisant la détection ; \textbf{Défenseurs} — prévenir/détecter/neutraliser ces chemins d'attaque tout en maintenant les services critiques.
        % \end{enumerate*}
\end{itemize}

\medskip
\textbf{Spécifications organisationnelles :} \emph{(Baseline)} aucune contrainte organisationnelle n'est imposée (\textquote{\acn{TRN-UNC}}), afin de fournir une référence \emph{brute} pour les scénarios orientés Cyberdéfense guidés. \emph{(Variante optionnelle, pour analyses ablatives)} :
% \begin{enumerate*}[label={\roman*)}, itemjoin={; \quad}]
\begin{itemize}
  \item \textbf{Rôles (ex.)} : \textquote{Attacker\_LateralMove}, \textquote{Attacker\_ExfilDB}, \textquote{Defender\_WS\_Monitor}, \textquote{Defender\_DB\_PAM}
  \item \textbf{Missions} : chaîner les techniques MITRE par sous-objectif (recon \textrightarrow{} exploitation \textrightarrow{} élévation \textrightarrow{} mouvement latéral \textrightarrow{} action sur l'objectif) côté rouge ; détection \textrightarrow{} confinement \textrightarrow{} éradication \textrightarrow{} reprise côté bleu
  \item \textbf{Contraintes} : autorisations par rôle (masquage d'actions), séquencement minimal de missions, déclencheurs de confinement sous conditions (journaux/\acn{IOC}).
\end{itemize}
% \end{enumerate*}

\begin{figure}[h!]
  \centering
  \includegraphics[width=\linewidth]{figures/topology.pdf}
  \caption{Topologie réseau synthétique : EXT, DMZ, ACC, MAR, SRV. Les sous-réseaux sont interconnectés via routeurs/pare-feu implicites.}
  \label{fig:scenario_network_topology}
\end{figure}

\begin{figure}[h!]
  \centering
  \includegraphics[width=0.86\linewidth]{figures/ADTree.pdf}
  \caption{Aperçu de l'arbre Attaque–Défense (AD) structurant les chemins d'attaque (tactiques/techniques MITRE) et les contre-mesures associées.}
  \label{fig:ADTree}
\end{figure}


\subsection{Description de l'instance du protocole d'experimentation}

\paragraph{1. Configuration initiale}

Nous utilisons le modèle \emph{Dec-POMDP} pré-spécialisé \textbf{Cyberdéfense} et le simulateur \textbf{MCAS} intégrés à \textquote{CybMASDE}, exposés via un adaptateur \acn{REST} conforme à l'\acn{API} d'I/O \textquote{CybMASDE} (observations jointes, masques d'actions, \emph{step}/\emph{reset}). L'environnement \emph{Company Infrastructure} est donc traité, côté pipeline, exactement comme les environnements jouets non-orientés Cyberdéfense : (i) collecte de traces pour la modélisation automatique (\textquote{\acn{MOD-AUT}}) ; (ii) entraînement \acn{MARL} avec ou sans contraintes organisationnelles ; (iii) analyse organisationnelle (\textbf{ANL}) ; (iv) transfert automatique (\textquote{\acn{TRF-AUT}}) vers l'exécuteur simulé.
\textbf{Justification :} aucun \textquote{\acn{TRF-MAN}} n'est requis ici, l'environnement n'étant pas une instrumentation d'un système réel mais un simulateur nativement compatible (pas de \textquote{passerelle terrain} à maintenir).
Pour \textquote{\acn{MOD-AUT}}, un \emph{Joint-Observation Prediction Model} (\acn{JOPM} : \acn{VAE}+\acn{LSTM}) est entraîné sur des historiques mêlant trajectoires aléatoires et politiques préliminaires \emph{rouges/bleues} (progression dans l'\acn{AD}-tree, détections, quarantaines). Le \acn{JOPM} approxime la dynamique $\langle o_{1:t},a_{1:t} \rangle \mapsto o_{t+1}$ et fournit une fonction d'arrêt dérivée (objectifs atteints, neutralisation des sessions malveillantes, \emph{step-limit}). La fonction de récompense reconstruite est validée par recoupement avec les métriques natives (progrès le long de l'\acn{AD}-tree, disponibilité des services). L'entraînement s'appuie sur \textquote{MARLlib}/\textquote{RLlib} (profil \textquote{MAPPO} par défaut, mais variantes testées ci-dessous), \emph{seeds} fixées, 5 exécutions indépendantes comme dans le \autoref{chap:cadre_experimental}. Les conditions de calcul suivent celles présentées en \autoref{par:compute_conditions} ; seules les dérogations (longueur d'épisode, fréquence de log) sont précisées dans les résultats.

\paragraph{2 à 4. Définition des baselines}

Nous définissons une \textbf{baseline avancée par défaut} et des \textbf{ablations} qui font varier (a) les activités \acn{MAMAD}, (b) l'algorithme \acn{MARL}, (c) la \emph{dureté} des contraintes organisationnelles : \emph{fortes} (1.0), \emph{douces} (0.5), \emph{sans} (0.0). Toutes reposent sur \textquote{\acn{TRF-AUT}} (pas de \textquote{\acn{TRF-MAN}}, cf. justification ci-dessus).

\begin{table*}[h!]
  \centering
  \caption{Baselines synthétiques pour Company Infrastructure.}
  \label{tab:baselines_company}
  \renewcommand{\arraystretch}{1}
  \tiny
  \begin{tabularx}{\textwidth}{
      >{\raggedright\arraybackslash\hsize=0.3\hsize}X
      >{\raggedright\arraybackslash\hsize=0.15\hsize}X
      >{\raggedright\arraybackslash\hsize=0.15\hsize}X
      >{\raggedright\arraybackslash\hsize=0.3\hsize}X
    }
    \toprule
    \textbf{Profil d'activités MAMAD} & \textbf{Algorithmes MARL}           & \textbf{Contraintes org. (dureté)} & \textbf{Commentaires}                                                                                                                           \\
    \midrule
    % --- Profil A (Défaut) ---
    \multirow{3}{*}{\parbox{3.8cm}{\textbf{Profil A — Défaut}                                                                                                                                                                                                      \\
        \textquote{\acn{MOD-AUT}};\;\textquote{\acn{TRN-CON}};\;\textquote{\acn{ANL-AUT}};\;\textquote{\acn{TRF-AUT}}}}
                                      & \acn{MAPPO}, \acn{QMIX}, \acn{COMA} & Oui (1.0)                          & Masquage par rôle (rouge/bleu), shaping aligné \acn{AD}-tree (progrès d'attaque / détection / quarantaine) ; \acn{JOPM} activé.                 \\
                                      & \acn{MAPPO}, \acn{QMIX}, \acn{COMA} & Douces (0.5)                       & Même pipeline, pénalités/bonus atténués ; masques partiels (exploration élargie).                                                               \\
                                      & \acn{MAPPO}, \acn{QMIX}             & Aucune (0.0)                       & \textit{Ablation} \acn{TRN-UNC} : récompense native (état/metrics), pas de guidage organisationnel.                                             \\
    \hdashline
    % --- Profil B (Analyse manuelle) ---
    \multirow{3}{*}{\parbox{3.8cm}{\textbf{Profil B — Analyse manuelle}                                                                                                                                                                                            \\
        \textquote{\acn{MOD-AUT}};\;\textquote{\acn{TRN-CON}};\;\textquote{\acn{ANL-MAN}} (\acn{TEMM} paramétré);\;\textquote{\acn{TRF-AUT}}}}
                                      & \acn{MAPPO}, \acn{COMA}             & Oui (1.0)                          & \acn{TEMM} paramétré à la main ; règles/masques édités (séquencement recon$\rightarrow$exploitation$\rightarrow$\acn{LM}$\rightarrow$objectif). \\
                                      & \acn{MAPPO}, \acn{COMA}             & Douces (0.5)                       & Guidage souple, contrôle post-hoc par \acn{TEMM}.                                                                                               \\
                                      & \acn{MAPPO}                         & Aucune (0.0)                       & \acn{TRN-UNC} ; \acn{TEMM} seulement pour explicabilité/diagnostic (pas de réinjection de règles).                                              \\
    \hdashline
    % --- Profil C (Cycle semi-manuel) ---
    \multirow{3}{*}{\parbox{3.8cm}{\textbf{Profil C — Cycle semi-manuel}                                                                                                                                                                                           \\
        \textquote{\acn{MOD-MAN}} (actions/props étendues);\;\textquote{\acn{TRN-CON}} (hp manuels);\;\textquote{\acn{ANL-MAN}};\;\textquote{\acn{TRF-AUT}}}}
                                      & \acn{IQL}, \acn{VDN}, \acn{QMIX}    & Oui (1.0)                          & Élargissement \textquote{handcrafted} du catalogue d'actions (\acn{FW}, \acn{PAM}, persistance) ; hyperparamètres fixés (pas d'\acn{HPO}).      \\
                                      & \acn{IQL}, \acn{VDN}, \acn{QMIX}    & Douces (0.5)                       & Contraintes souples définies manuellement (seuils journaux/\acn{IOC}, priorités services).                                                      \\
                                      & \acn{IQL}, \acn{VDN}                & Aucune (0.0)                       & Base minimale sans guidage ; utile pour jauger l'apport des contraintes et du shaping.                                                          \\
    \bottomrule
  \end{tabularx}
\end{table*}


\section{Expérimentations sur l'environnement Microservices Kubernetes}


L'environnement \textbf{Microservices Kubernetes} est un \emph{cluster réel} (1 nœud \textit{worker} : 8 vCPU, 32~Go \acn{RAM}, 1~Gbps) utilisé comme \emph{environnement d'entrée} de la méthode \acn{MAMAD}. Une illustration schématique de ce cluster et de ses services est fournie en \autoref{fig:k8s_microservices_real}. Le cluster héberge une application web de e-commerce composée de 4 microservices en chaîne (\acn{API}, Auth, Produits, Commandes) orchestrés via Kubernetes. Chaque service est déployé dans un \emph{pod} avec un nombre variable de réplicas (1 à 5). Le cluster est surveillé en temps réel via Prometheus/Grafana, collectant des métriques telles que l'utilisation \acn{CPU}/mémoire, le taux de requêtes, la latence, les files d'attente, et l'état des pods. Des scénarios de stress-test sont appliqués pour simuler des conditions réelles : goulots d'étranglement (augmentation du trafic), attaques DDoS (trafic malveillant), pannes de pods (simulées via \textquote{kubectl delete pod}), et contention de ressources (limitation \acn{CPU}/mémoire). L'objectif est d'évaluer la capacité des agents à maintenir la résilience opérationnelle du cluster en adaptant dynamiquement les ressources et en répondant aux incidents. Une illustration synthétique de ce type de scénarios est fournie en \autoref{fig:k8s_cluster_graph_intro}\index{Microservices Kubernetes}.

% \begin{enumerate*}[label={\roman*)}, itemjoin={;\quad}]
\begin{itemize}
  \item \textbf{Espace d'état :} état courant du cluster réel et des 4 services en chaîne \((i \in \{1..4\})\) :
        \(
        s = \{\text{réplicas}^i,\,
        U_{\text{cpu}}^i, U_{\text{mem}}^i,\,
        T_{\text{in}}^i, T_{\text{out}}^i,\,
        Q_{\text{pending}}^i,\,
        S_{\text{status}}^{i,\text{pods}},\,
        P_{\text{priority}}^i\}_{i=1..4}
        \)
        et agrégats globaux (latence moyenne \(L_{\text{avg}}\), taux de requêtes \(R_{\text{rate}}\), disponibilité)
  \item \textbf{Espace d'observation :} observation \emph{réelle} partielle (\acn{Dec-POMDP}) obtenue via l'\acn{API}~Kubernetes/collecte métriques. Elle est \emph{spécifique au rôle} :
        \begin{enumerate*}[label={}, itemjoin={;\,}]
          \item goulots~: \(Q_{\text{pending}}^i, T_{\text{in}}^i/T_{\text{out}}^i\)
          \item \phantom{XXX} DDoS~: \(R_{\text{rate}}, \Delta T, L_{\text{avg}}\)
          \item pannes~: \(S_{\text{status}}^{i,\text{pods}}, F_{\text{fail}}^i\)
          \item ressources~: \(U_{\text{cpu}}^i, U_{\text{mem}}^i, P_{\text{priority}}^i\)
        \end{enumerate*}
  \item \textbf{Espace d'action :} \emph{actions réelles} appliquées au cluster via l'\acn{API}~Kubernetes :
        \begin{enumerate*}[label={\roman*)}, itemjoin={;\quad}]
          \item \emph{Scaling ciblé} : \textquote{scale\_up}(i), \textquote{scale\_down}(i)
          \item \emph{Gestion DDoS} : \textquote{rate\_limit\_ingress}(i), \textquote{isolate\_service}(i)
          \item \emph{Récupération pannes} : \textquote{restart\_failed\_pod}(i), \textquote{reschedule\_ \allowbreak pod}(i)
          \item \emph{Arbitrage ressources} : \textquote{throttle\_low\_prio}(i), \textquote{rebalance\_quota}(i)
        \end{enumerate*}
  \item \textbf{Structure de récompense :} récompense \emph{calculée sur télémétrie réelle} (QoS/résilience) :
        \[
          R_{\text{global}}=
          w_1\cdot\text{SuccessRate}
          -w_2\cdot\overline{Q_{\text{pending}}}
          -w_3\cdot L_{\text{avg}}
          -w_4\cdot \text{DownTime}
          -w_5\cdot \text{OverProvision},
        \]
        complétée par des sous-récompenses par rôle:
        \begin{gather*}
          R_{\text{bottleneck}}=-\sum_i Q_{\text{pending}}^i                  \\
          R_{\text{ddos}}=-(\text{DownTime}\cdot w_d+L_{\text{avg}}\cdot w_l) \\
          R_{\text{failure}}=-\sum_i T_{\text{downtime}}^i                    \\
          R_{\text{resource}}=-\sum_{i\in\text{Critical}}(U_{\text{cpu}}^i+U_{\text{mem}}^i)
        \end{gather*}

  \item \textbf{Objectif :} maximiser la \emph{résilience opérationnelle} du cluster réel (taux de réussite élevé, latence/queues faibles, disponibilité maximale) sous 5 scénarios: goulots, DDoS, pannes de pods, contention ressources, \emph{mixte}
        % \end{enumerate*}
\end{itemize}

\noindent\textbf{Spécifications organisationnelles :}
% \begin{enumerate*}[label={\roman*)}, itemjoin={;\quad}]
\begin{itemize}
  \item \textbf{Rôles :} \textquote{Gestionnaire\_Goulots}, \textquote{Gestionnaire\_DDoS}, \textquote{Gestionnaire\_Pannes}, \textquote{Gestionnaire\_Ressources}
  \item \textbf{Missions :}
        \(\langle\)minimiser \(Q_{\text{pending}}^i\)\(\rangle\);
        \(\langle\)détecter/isoler DDoS et réduire DownTime/latence\(\rangle\);
        \(\langle\)\(\downarrow T_{\text{downtime}}\) par reprise rapide\(\rangle\);
        \(\langle\)prioriser services critiques sous \(U_{\text{cpu/mem}}\) contraint\(\rangle\)
  \item \textbf{Contraintes :}
        (a) \emph{déontiques} par rôle (ex.~seul \textquote{Gestionnaire\_DDoS} peut \textquote{isolate\_ \allowbreak service});
        (b) \emph{ségrégation des responsabilités} (éviter des \textquote{scale\_up} contradictoires);
        (c) \emph{garde-fous QoS} (\(Q_{\text{pending}}^i<Q_{\text{seuil}}, U_{\text{cpu}}^{\text{total}}<U_{\text{seuil}}\));
        (d) deux modes d'intégration pendant l'entraînement : \textit{contraintes strictes} (masquage d'actions) vs \textit{souples} (façonnage de récompenses)
        % \end{enumerate*}
\end{itemize}

\medskip
\noindent\textit{Remarque (spécificité \textquote{réel}) :}
% \begin{enumerate*}[label={--}, itemjoin={\quad}]
\begin{itemize}
  \item \textsc{MOD/TRN} sur jumeau numérique dérivé de traces du cluster réel;
  \item \textsc{TRF} : déploiement des politiques apprises sur le cluster via l'\acn{API} Kubernetes;
  \item sécurité opératoire: actions bornées (quotas/limites), rollbacks et rate-limiting pour préserver la QoS.
        % \end{enumerate*}
\end{itemize}

\begin{figure}[h!]
  \centering
  \includegraphics[trim=1.8cm 3.3cm 1.25cm 3.5cm, clip, width=\linewidth]{figures/k8s_cluster_graph.pdf}
  \caption{Cluster \emph{réel} \textquote{Services en chaîne} (4 services) et leviers d'action exposés à CybMASDE/MAMAD via l'API Kubernetes.}
  \label{fig:k8s_microservices_real}
\end{figure}

\begin{figure}[h!]
  \centering
  \hspace{-0.4cm}
  \includegraphics[trim=0cm 0cm 0cm 0cm, clip, width=\textwidth]{figures/scenario_introduction.pdf}
  \caption[Une vue abstraite du scénario de cluster Kubernetes]{Une vue abstraite du scénario de cluster Kubernetes où chaque service s'exécute en pods gérés par des \textit{Deployments} et peut être répliqué dynamiquement. Des agents défenseurs ayant des rôles spécifiques (p.,ex. \textit{détecteur DDoS}, \textit{gestionnaire de ressources}, \textit{gestionnaire de goulots}, \textit{gestionnaire de pannes}) observent en continu les métriques clés (latence, requêtes en attente, trafic entrant/sortant, états des pods, utilisation \acn{CPU}/mémoire) et appliquent via l'\acn{API} Kubernetes des \textit{scaling actions} (mode \textit{REMOTE}) pour ajuster les réplicas, isoler des services affectés ou relancer des composants défaillants. L'illustration met en évidence quatre familles de perturbations ciblant la chaîne — \textit{bottleneck} (engorgement), \textit{contention} (conflit de ressources), \textit{crash} (défaillance de pods) et \textit{DDoS}/injections massives — ainsi que des compromissions de pods ; les agents doivent détecter les anomalies, isoler/segmenter les composants compromis et réallouer les ressources pour préserver la \textit{résilience opérationnelle} globale (disponibilité, débit, latence) et minimiser l'impact pour les utilisateurs finaux.}
  \label{fig:k8s_cluster_graph_intro}
\end{figure}


\subsection{Description de l'instance du protocole d'expérimentation}

\paragraph{1. Configuration initiale}

Nous opérons \emph{sur le cluster réel} (pas de simulation en ligne de commande jouant le rôle d'\textquote{environnement réel}). Le cluster (\textbf{\acn{VM} 8~vCPU, 32~Go \acn{RAM}, 1~Gbps}) héberge l'application e-commerce (4 microservices en chaîne). La télémétrie est collectée par \textit{Prometheus} et visualisée via \textit{Grafana}. \textquote{CybMASDE}/\textquote{KARMA} s'interface avec l'\acn{API} Kubernetes pour \textit{observer} l'état et \textit{agir} (scaling, isolement, redémarrage). Un \textbf{jumeau numérique} est construit à partir des traces pour entraîner les politiques hors-ligne puis \textbf{transférées} et \textit{fermées en boucle} sur le cluster (apprentissage itératif par rafraîchissement des traces).

\begin{figure}[h!]
  \centering
  \resizebox{\textwidth}{!}{%
    \input{figures/karma_architecture/karma_architecture}
  }
  \caption[Schéma d'ensemble de \acn{KARMA}]{Schéma d'ensemble de \acn{KARMA} avec un cluster Kubernetes : collecte Prometheus, modélisation (jumeau numérique), entraînement guidé par rôles/missions (MOISE+MARL), analyse, transfert vers le cluster et boucle de réapprentissage.}
  \label{fig:karma_architecture}
\end{figure}

Comme illustré en \autoref{fig:karma_architecture} :
\begin{enumerate}[label=\textbf{\arabic*)}, leftmargin=3.5mm, itemsep=2pt, topsep=2pt]
  \item \textbf{Collecte} : \textit{Prometheus}~\cite{prometheus} agrège les séries temporelles (latence, files, \acn{CPU}/\acn{MEM}, statut pods), utilisées comme \emph{états} par le composant de modélisation.
  \item \textbf{Modélisation} : construction d'un \emph{jumeau numérique} (modèle de transitions) et d'une fonction de récompense multi-objectifs (QoS/résilience).
  \item \textbf{Entraînement} : apprentissage \acn{MARL} avec \textit{rôles} (contraintes d'actions) et \textit{missions} (sous-objectifs) selon MOISE+MARL~\cite{soule2024aomea}.
  \item \textbf{Analyse} : inspection/explainabilité des politiques (clustering de trajectoires, visualisations hiérarchiques).
  \item \textbf{Transfert} : déploiement des politiques vers le cluster (scaling/isolement/redémarrage) et \textbf{boucle de mise à jour} continue des politiques avec de nouvelles traces.
\end{enumerate}

\paragraph{2 à 4. Définition des baselines}

Nous évaluons \textbf{trois familles} de baselines : (A) profil \emph{défaut} (pipeline \acn{MAMAD} complet) ; (B) profil \emph{analyse manuelle} (\acn{TEMM}/règles éditées) ; (C) profil \emph{cycle principalement manuel}. Chaque profil est décliné selon trois niveaux de \emph{dureté} des spécifications organisationnelles : \textbf{1.0} (strict), \textbf{0.5} (douces), \textbf{0.0} (aucune). Nous ajoutons (D) une ligne de \emph{références autoscaling Kubernetes/ML} (\acn{HPA} et approches \acn{ML} connues).


\begin{table*}[h!]
  \centering
  \caption{Baselines synthétiques Microservices Kubernetes.}
  \label{tab:baselines_k8s}
  \renewcommand{\arraystretch}{1.2}
  \tiny
  \begin{tabularx}{\textwidth}{
      >{\raggedright\arraybackslash\hsize=0.3\hsize}X
      >{\raggedright\arraybackslash\hsize=0.15\hsize}X
      >{\raggedright\arraybackslash\hsize=0.15\hsize}X
      >{\raggedright\arraybackslash\hsize=0.3\hsize}X
    }
    \toprule
    \textbf{Profil d'activités MAMAD} & \textbf{Algorithmes / Approches}                                                                                                                                                                                                                       & \textbf{Contraintes org. (dureté)} & \textbf{Commentaires}                                                                 \\
    \midrule
    \multirow{3}{*}{\parbox{4.1cm}{\textbf{Profil A — Défaut}                                                                                                                                                                                                                                                                                                                                                               \\\acn{MOD-AUT} ; \acn{TRN-CON} ; \acn{ANL-AUT} ; \acn{TRF-AUT}}}
                                      & \acn{MAPPO}, \acn{MADDPG}, \acn{QMIX}                                                                                                                                                                                                                  & Oui (1.0)                          & Masquage d'actions + shaping par rôle ; jumeau numérique activé ; transfert continu.  \\
                                      & \acn{MAPPO}, \acn{MADDPG}, \acn{QMIX}                                                                                                                                                                                                                  & Douces (0.5)                       & Pénalités/bonus atténués ; masques partiels ; même pipeline que défaut.               \\
                                      & \acn{MAPPO}, \acn{MADDPG}, \acn{QMIX}                                                                                                                                                                                                                  & Aucune (0.0)                       & \textit{Ablation} : \acn{TRN-UNC}, reste inchangé.                                    \\
    \midrule
    \multirow{3}{*}{\parbox{4.1cm}{\textbf{Profil B — Analyse manuelle}                                                                                                                                                                                                                                                                                                                                                     \\\acn{MOD-AUT} ; \acn{TRN-CON} ; \acn{ANL-MAN} ; \acn{TRF-AUT}}}
                                      & \acn{MAPPO}, \acn{COMA}                                                                                                                                                                                                                                & Oui (1.0)                          & Paramétrage manuel de \acn{TEMM} ; règles/masques édités.                             \\
                                      & \acn{MAPPO}, \acn{COMA}                                                                                                                                                                                                                                & Douces (0.5)                       & Guidage souple ; vérifications post-hoc par \acn{TEMM} ajusté manuellement.           \\
                                      & \acn{MAPPO}, \acn{COMA}                                                                                                                                                                                                                                & Aucune (0.0)                       & \acn{TRN-UNC} ; \acn{TEMM} pour explicabilité/diagnostic, sans réinjection.           \\
    \midrule
    \multirow{3}{*}{\parbox{4.1cm}{\textbf{Profil C — Cycle principalement manuel}                                                                                                                                                                                                                                                                                                                                          \\\acn{MOD-MAN} ; \acn{TRN-CON} ; \acn{ANL-MAN} ; \acn{TRF-MAN}}}
                                      & \acn{IQL}, \acn{VDN}, \acn{MADDPG}                                                                                                                                                                                                                     & Oui (1.0)                          & Environnement \textquote{handcrafted} ; hypers fixés ; transfert/déploiement manuels. \\
                                      & \acn{IQL}, \acn{VDN}, \acn{MADDPG}                                                                                                                                                                                                                     & Douces (0.5)                       & Contraintes souples définies manuellement (rôles/missions et barèmes adoucis).        \\
                                      & \acn{IQL}, \acn{VDN}                                                                                                                                                                                                                                   & Aucune (0.0)                       & \acn{TRN-UNC} manuel ; base minimale sans guidage organisationnel.                    \\
    \midrule
    \parbox{4.1cm}{\textbf{Profil D — Références autoscaling K8s/ML}}
                                      & \parbox{3.4cm}{\acn{HPA} classique ; \acn{AWARE}~\cite{aware2023} ; Gym-\acn{HPA}~\cite{gymhpa2022} ; Rlad-core~\cite{Rossi2019} ; \acn{AHPA}~\cite{Zhou2024} ; \acn{KOSMOS}~\cite{KOSMOS} ; \acn{COPA}~\cite{COPA} ; QoS-aware \acn{RL}~\cite{QoSRL}}
                                      & N/A
                                      & Lignes de base non-\acn{MAS}/\acn{MARL} ou \acn{RL} générique pour autoscaling : utile pour comparer la robustesse en charge dynamique/adversaire ; intégration K8s et prise en compte d'attaques variables selon les systèmes.                                                                                                                                                     \\
    \bottomrule
  \end{tabularx}
\end{table*}


\paragraph{Indicateurs d'évaluation et scénarios}

\textbf{Scénarios} : (1) goulots (\(Q_{\text{pending}}\uparrow\)) ; (2) DDoS (\(R_{\text{rate}}\uparrow,\ \Delta T\uparrow\)) ; (3) pannes (\textit{CrashLoopBackOff}/\textquote{delete pod}) ; (4) contention (\(U_{\text{cpu/mem}}^{\text{tot}}>\) seuil) ; (5) mixte. \textbf{Indicateurs} : \emph{Résilience opérationnelle} (récompense globale, taux de succès, \(L_{\text{avg}}\), \(\overline{Q_{\text{pending}}}\), disponibilité) ; \emph{Robustesse aux attaques} (écart-type de la récompense, temps de reprise DDoS, \% services disponibles) ; \emph{Précision du jumeau numérique} (écart simulation/réel) ; \emph{Convergence} (épisodes jusqu'au palier) ; \emph{Adaptabilité} (variance récompense entre charges) ; \emph{Explicabilité} (alignement rôles/missions, analyse de trajectoires).




\section{Expérimentations sur l'environnement Drone Swarm}

L'environnement \textbf{Drone Swarm} est un réseau ad hoc d'essaim de drones sur lequel les agents défenseurs doivent le protéger contre les intrusions malveillantes dans divers scénarios de cyberattaques~\cite{Standen2021}. Cet environnement est illustré dans \autoref{fig:cyborg}\index{Drone Swarm}.

% \begin{enumerate*}[label={\roman*)}, itemjoin={; \quad}]
\begin{itemize}
  \item \textbf{Espace d'état :} Graphique réseau dynamique où les nœuds représentent les appareils et les arêtes indiquent les connexions actives
  \item \textbf{Espace d'observation :} Les agents reçoivent des alertes de sécurité et des mises à jour de l'état du réseau
  \item \textbf{Espace d'action :}
        \begin{enumerate*}[label={\roman*)}, itemjoin={; \quad}]
          \item \textquote{Surveillance} : analyse de l'activité des nœuds
          \item \textquote{Bloquer l'IP} : restreindre l'accès provenant d'une source suspecte
          \item \textquote{Réimager un drone} : Réinstaller le système d'exploitation d'un drone suspect pour éliminer.
        \end{enumerate*}
  \item \textbf{Structure de récompense :}
        \begin{enumerate*}[label={\roman*)}, itemjoin={; \quad}]
          \item Etat de santé global : pourcentage de drone compromis $\times$ $-100$
          \item Prévention d'une attaque : $+30$
          \item Blocage des faux positifs : $-10$
          \item Réimager un drone : $-50$.
        \end{enumerate*}
  \item \textbf{objectif :} Détecter et atténuer les cybermenaces tout en évitant les faux positifs.
\end{itemize}
%
\textbf{Spécifications organisationnelles :}
% \begin{enumerate*}[label={\roman*)}, itemjoin={; \quad}]
\begin{itemize}
  \item \textbf{Rôles :} \textquote{Analyste des menaces, gestionnaire de pare-feu, opérateur de sécurité}
  \item \textbf{Missions :} Détecter les menaces, bloquer les accès non autorisés, maintenir l'intégrité du réseau
  \item \textbf{Contraintes :} Minimiser les faux positifs tout en garantissant la couverture de sécurité.
\end{itemize}

\begin{figure}[h!]
  \centering
  \includegraphics[trim=0cm 1cm 0cm 1cm, clip, width=0.6\linewidth]{figures/cyborg.png}
  \caption[Capture d'écran de l'environnement \acn{CybORG}]{Capture d'écran de l'environnement \acn{CybORG} : un essaim de 18 drones autonomes, initialement contrôlés par des agents bleus (défensifs), forme un réseau ad hoc pour faciliter la communication entre les unités au sol. Chaque drone est susceptible d'être infecté par un cheval de Troie matériel qui peut s'activer de manière aléatoire, remplaçant l'agent bleu par un agent rouge (offensif). Les agents rouges visent à compromettre le réseau en interceptant ou en bloquant les communications. Les drones se déplacent selon un algorithme d'essaim, modifiant dynamiquement la topologie du réseau. Les agents bleus doivent détecter et neutraliser les drones compromis tout en maintenant l'intégrité des communications.}
  \label{fig:cyborg}
\end{figure}

\subsection{Description de l'instance du protocole d'expérimentation}

\paragraph{1. Configuration initiale}

Nous utilisons \textbf{\acn{CybORG}}~\cite{Standen2021} comme simulateur de référence pour l'essaim de drones (réseau \textit{ad hoc} dynamique, nœuds mobiles, compromis possibles). Conformément aux environnements simulés non-orientés Cyberdéfense, une instance \acn{CybORG} est lancée en tâche de fond et exposée via un \textbf{adaptateur REST} conforme à l'\acn{API} d'I/O de \textquote{CybMASDE} (\textquote{reset/step}, observations jointes, masques d'actions). Cette passerelle permet : (i) la collecte de traces pour \textquote{\acn{MOD-AUT}} (historiques $\langle o_{1:t}, a_{1:t} \rangle$) ; (ii) l'entraînement \acn{MARL} \textbf{TRN} avec ou sans \textit{spécifications organisationnelles} ; (iii) l'analyse \textbf{ANL} (clustering de trajectoires, vérification de l'alignement rôles/missions) ; (iv) le transfert \textbf{TRF} vers l'exécuteur simulé standardisé.

Pour \textquote{\acn{MOD-AUT}}, un \textit{Joint-Observation Prediction Model} (\acn{JOPM}, \acn{VAE}+\acn{LSTM}) peut être entraîné afin d'apprendre une dynamique approximative $\langle o_{1:t}, a_{1:t} \rangle \mapsto o_{t+1}$ et une fonction d'arrêt dérivée (optionnel, le simulateur étant déjà la \textquote{source de vérité}). La fonction de récompense reconstruite est croisée avec la récompense native (prévention d'attaques, continuité de service, minimisation des faux positifs). Un mappage \emph{labels} observation/action ($l_o, l_a$) synchronise \acn{CybORG} et \textquote{MMA} (MOISE+MARL) pour activer le masquage d'actions et le shaping par rôle. L'entraînement s'appuie sur \textquote{MARLlib}/\textquote{RLlib} (profils \textquote{MAPPO}, \textquote{MADDPG}, \textquote{QMIX}, \textquote{COMA}, \textquote{IQL}, \textquote{VDN}) avec \textit{seeds} fixées, conformément au \autoref{chap:cadre_experimental} et aux ressources présentées en \autoref{par:compute_conditions}. Les épisodes et fréquences de log sont harmonisés avec les autres environnements simulés.

\paragraph{2 à 4. Définition des baselines}

Nous définissons une \textbf{baseline avancée par défaut} et des \textbf{ablations} qui varient : (i) les activités \acn{MAMAD}, (ii) l'algorithme \acn{MARL}, (iii) l'intégration et la \textit{dureté} des spécifications organisationnelles (strictes $=1.0$, douces $=0.5$, sans $=0.0$), et (iv) des \textit{références cyber classiques} (détection à base de règles / apprentissage supervisé) pour positionner les gains de \acn{MAMAD} dans un cadre cyber. La \autoref{tab:baselines_drone_swarm} synthétise ces configurations.


\begin{table*}[h!]
  \centering
  \caption{Baselines synthétiques pour Drone Swarm.}
  \label{tab:baselines_drone_swarm}
  \renewcommand{\arraystretch}{1.2}
  \tiny
  \begin{tabularx}{\textwidth}{
      >{\raggedright\arraybackslash\hsize=0.3\hsize}X
      >{\raggedright\arraybackslash\hsize=0.15\hsize}X
      >{\raggedright\arraybackslash\hsize=0.15\hsize}X
      >{\raggedright\arraybackslash\hsize=0.3\hsize}X
    }
    \toprule
    \textbf{Profil d'activités MAMAD} & \textbf{Algorithmes \acn{MARL} / Méthodes}       & \textbf{Contraintes org. (dureté)} & \textbf{Commentaires}                                                                                                                                                           \\
    \midrule
    % --- Profil A (Défaut) ---
    \multirow{3}{*}{\parbox{3.8cm}{\textbf{Profil A — Défaut}                                                                                                                                                                                                                                                   \\\acn{MOD-AUT};\;\acn{TRN-CON};\;\acn{ANL-AUT};\;\acn{TRF-AUT}}}
                                      & \acn{MAPPO},\;\acn{MADDPG},\;\acn{QMIX}          & Oui (1.0)                          & Masquage d'actions par rôles (\textquote{Analyste}, \textquote{Pare-feu}, \textquote{Opérateur}) ; shaping mission : détection $\rightarrow$ confinement $\rightarrow$ reprise. \\
                                      & \acn{MAPPO},\;\acn{MADDPG},\;\acn{QMIX}          & Douces (0.5)                       & Contraintes atténuées (bonus/malus, masques partiels) ; même pipeline que défaut.                                                                                               \\
                                      & \acn{MAPPO},\;\acn{MADDPG},\;\acn{QMIX}          & Aucune (0.0)                       & \textit{Ablation} \acn{TRN-UNC} : pas de guidage organisationnel, récompense native (prévention, continuité, \acn{FP}/\acn{FN}).                                                \\
    \hdashline
    % --- Profil B (Analyse manuelle) ---
    \multirow{3}{*}{\parbox{3.8cm}{\textbf{Profil B — Analyse manuelle}                                                                                                                                                                                                                                         \\\acn{MOD-AUT};\;\acn{TRN-CON};\;\acn{ANL-MAN};\;\acn{TRF-AUT}}}
                                      & \acn{MAPPO},\;\acn{COMA}                         & Oui (1.0)                          & Paramétrage manuel (seuils d'alerte, règles d'escalade) ; édition manuelle des masques/règles.                                                                                  \\
                                      & \acn{MAPPO},\;\acn{COMA}                         & Douces (0.5)                       & Guidage souple ; validation post-hoc par \acn{TEMM}.                                                                                                                            \\
                                      & \acn{MAPPO},\;\acn{COMA}                         & Aucune (0.0)                       & \acn{TRN-UNC} ; \textbf{ANL} pour l'explicabilité/diagnostic uniquement, sans réinjection.                                                                                      \\
    \hdashline
    % --- Profil C (Cycle principalement manuel) ---
    \multirow{3}{*}{\parbox{3.8cm}{\textbf{Profil C — Cycle principalement manuel}                                                                                                                                                                                                                              \\\acn{MOD-MAN};\;\acn{TRN-CON};\;\acn{ANL-MAN};\;\acn{TRF-MAN}}}
                                      & \acn{IQL},\;\acn{VDN},\;\acn{MADDPG}             & Oui (1.0)                          & Environnement \textit{handcrafted} (sous-ensemble des observations/actions) ; hyperparamètres fixés.                                                                            \\
                                      & \acn{IQL},\;\acn{VDN},\;\acn{MADDPG}             & Douces (0.5)                       & Contraintes souples définies manuellement (rôles/missions + barèmes adoucis).                                                                                                   \\
                                      & \acn{IQL},\;\acn{VDN}                            & Aucune (0.0)                       & Base minimale sans guidage ; sert de référence \textquote{pure \acn{RL}} entièrement manuelle.                                                                                  \\
    \hdashline
    % --- Profil D (Références cyber classiques) ---
    \multirow{2}{*}{\parbox{3.8cm}{\textbf{Profil D — Références cyber classiques}                                                                                                                                                                                                                              \\(Sans \acn{MARL}, pour positionnement)}}
                                      & \acn{IDS} à règles (type \textit{rule-based}),                                                                                                                                                                                                                          \\\acn{ML} sup.~(\acn{SVM}/\acn{KNN}) &  & n/a & Détection + réaction scriptée (blocage \acn{IP}/port, isolement nœud) ; reactive, peu adaptable aux topologies mouvantes. \\
                                      & Heuristiques réseau (\textit{score} d'anomalie),                                                                                                                                                                                                                        \\contrôle \textit{threshold-based} &  & n/a & Baselines non apprenantes (seuils statiques, fenêtres glissantes) ; faible robustesse aux attaques adaptatives. \\
    \bottomrule
  \end{tabularx}
\end{table*}



\section{Bilan}
Ce chapitre a posé les fondations méthodologiques et pratiques de l'évaluation expérimentale de la méthode \acn{MAMAD}. En définissant un protocole générique, reproductible et structuré, il a permis d'instancier la démarche sur des environnements variés, allant des cas jouets aux systèmes réels. L'intérêt majeur de ce cadre est d'assurer la traçabilité des choix, la transparence des protocoles et la validité des résultats, tout en facilitant l'analyse critique des apports et des limites de chaque composant de la méthode.
%
Ce chapitre constitue ainsi un socle essentiel pour la validation scientifique de la méthode \acn{MAMAD}, en garantissant que les résultats présentés dans la suite du manuscrit sont comparables, interprétables et généralisables.

\clearpage
\thispagestyle{empty}
\null
\newpage



\chapter{Résultats expérimentaux et analyse}

Ce chapitre présente et discute les résultats expérimentaux obtenus à partir du protocole d'évaluation détaillé en \autoref{sec:evaluation_grid}.
L'objectif est double~: d'une part valider la faisabilité et l'efficacité de la méthode proposée dans des environnements variés, d'autre part analyser la couverture des critères d'évaluation (autonomie, performance, adaptation, contrôle, explicabilité, robustesse) définis en \autoref{sec:criteres-evaluation}.

Les expérimentations sont organisées selon deux axes principaux~:
% \begin{enumerate*}[label={\roman*)}, itemjoin={; \quad}]
\begin{itemize}
  \item des environnements génériques, non orientés Cyberdéfense (tels que \textit{Overcooked-AI}, \textit{Predator-Prey}), permettant de tester la robustesse de la méthode dans des contextes abstraits et contrôlés ;
  \item des environnements spécialisés de Cyberdéfense (\textit{Company Infrastructure}, \textit{Microservices Kubernetes}, \textit{Drone Swarm}), conçus pour évaluer la méthode dans des conditions réalistes de menaces et de contraintes organisationnelles.
        % \end{enumerate*}
\end{itemize}

Chaque section détaille les résultats obtenus, en les comparant systématiquement avec les \textit{baselines} décrites au \autoref{chap:case_studies}, selon les métriques introduites en \autoref{sec:criteria_metrics}.
Enfin, une discussion transversale clôt le chapitre en examinant la couverture des critères par la méthode, ainsi que les biais et limites susceptibles d'influencer l'interprétation des résultats.

\section{Résultats et discussion des environnements non orientés Cyberdéfense}\label{sec:results_and_discussion_cyberdefense}

\subsection*{Performance, convergence et interventions humaines}

Les trois environnements jouets (Overcooked-AI, Predator-Prey, Warehouse Management) permettent d'évaluer la méthode \acn{MAMAD} dans des contextes coopératifs/compétitifs variés.
La \autoref{fig:noncyber_learning_curves} présente les courbes d'apprentissage (récompenses normalisées).
Dans l'ensemble, les profils \textbf{avec contraintes organisationnelles} convergent plus rapidement que les ablations \textquote{\acn{TRN-UNC}}.
Par exemple, dans Overcooked-AI, \acn{MAPPO} avec contraintes fortes converge en moyenne après $1.8\times 10^4$ épisodes contre $2.6\times 10^4$ sans contraintes.
Dans Predator-Prey, \acn{QMIX} converge en $2.2\times 10^4$ épisodes (fortes) contre $3.4\times 10^4$ (sans).
Enfin, dans Warehouse Management, \acn{MAPPO} atteint la convergence en $2.9\times 10^4$ épisodes (fortes) contre $4.1\times 10^4$ (sans).

\begin{figure}[h!]
  \centering
  \includegraphics[width=0.75\linewidth]{figures/results_noncyber_learning.pdf}
  \caption{Courbes d'apprentissage (récompenses normalisées) pour les environnements non orientés Cyberdéfense.}
  \label{fig:noncyber_learning_curves}
\end{figure}

De façon générale, chacun des environnements nécéssitent environ un peu plus d'une journée pour établir des spécifications qui contraignent complètement les agents permettant d'imiter une conception totalement manuelle de chacun des \acplu{SMA}. D'un autre côté, il suffit de un à deux cycles de raffinement pour obtenir des \acplu{SMA} atteignant des performances similaires aux \acplu{SMA} définis manuellement, soit entre trois à quatre heures pour chacun d'entre eux. Cela conduit à un \textbf{proportion d'interventions manuelles} estimé entre 15 et 25\%.


\subsection*{Comparaison des récompenses cumulées}

La \autoref{tab:noncyber_rewards} résume les résultats nominaux (récompenses cumulées, convergence).
Dans tous les cas, l'introduction de rôles/missions via MOISE+MARL permet d'obtenir des gains de $+15$ à $+25\%$ sur la récompense cumulée finale et de réduire l'écart-type entre runs, témoignant d'une plus grande stabilité.

\begin{table}[h!]
  \centering
  \caption{Récompenses cumulées et convergence (moyenne $\pm$ écart-type, 5 runs).}
  \label{tab:noncyber_rewards}
  \renewcommand{\arraystretch}{1.2}
  \small
  \begin{tabular}{lccc}
    \hline
    \textbf{Environnement} & \textbf{Contraintes fortes} & \textbf{Contraintes douces}    & \textbf{Sans contraintes} \\
    \hline
    Overcooked-AI          & $+1340 \pm 90$ (18k)        & $\mathbf{+1380 \pm 85}$ (17k)  & $+1110 \pm 130$ (26k)     \\
    Predator-Prey          & $+890 \pm 70$ (22k)         & $\mathbf{+910 \pm 65}$ (21k)   & $+730 \pm 100$ (34k)      \\
    Warehouse Mgmt         & $+1740 \pm 110$ (29k)       & $\mathbf{+1780 \pm 100}$ (27k) & $+1410 \pm 140$ (41k)     \\
    \hline
  \end{tabular}
\end{table}

\subsection*{Robustesse et adaptation}

En introduisant des perturbations (agents inactifs, topologie modifiée, délais aléatoires), les \textbf{scores de robustesse} (performance perturbée/nominale) atteignent $0.82$–$0.86$ sous contraintes fortes, contre $0.68$–$0.73$ sans contraintes.
Les contraintes douces offrent un compromis intéressant ($0.80$–$0.84$) en maintenant des performances élevées et une meilleure flexibilité face aux variations.

\subsection*{Contrôle et respect des règles}

Le \textbf{taux de violation des contraintes} est nul en mode strict ($0.0\%$), modéré en mode doux ($3$–$5\%$), et dépasse $20\%$ sans guidage.
Par exemple, dans Overcooked-AI, les collisions de rôle (deux agents prenant simultanément la même tâche) surviennent dans $24.7\%$ des épisodes sans contraintes, contre $2.8\%$ seulement en mode doux.

\subsection*{Explicabilité organisationnelle}

Les analyses Auto-\acn{TEMM} montrent une \textbf{adéquation organisationnelle} ($\acn{OF}$) moyenne de $0.82$ (fortes), $0.79$ (douces) et $0.65$ (sans contraintes).
La \textbf{qualité des spécifications inférées} est plus élevée dans Warehouse Management ($93\%$ de similarité Jaccard), reflétant la structure plus déterministe des tâches, que dans Predator-Prey ($84\%$).
Dans Overcooked-AI, Auto-\acn{TEMM} infère correctement les rôles \textquote{Chef} et \textquote{Serveur} mais confond parfois l'\textquote{Assistant} et le \textquote{Chef}, expliquant un score légèrement plus bas ($87\%$).

\

Ces résultats confirment que la méthode \acn{MAMAD} apporte une \textbf{valeur ajoutée mesurable même dans des environnements jouets}, en accélérant la convergence, en renforçant la robustesse et en améliorant l'explicabilité.
Les \textbf{contraintes douces} apparaissent comme le meilleur compromis entre performance brute et respect organisationnel, tandis que les contraintes strictes maximisent la robustesse et la discipline des rôles au prix d'une légère baisse de récompense cumulée.
Les environnements simples montrent également que l'absence de contraintes mène à des comportements sous-optimaux (collisions, désorganisation), moins robustes et plus difficiles à interpréter.


\section{Résultats et discussion de l'environnement Company Infrastructure}\label{sec:results_and_discussion_infra}

\subsection*{Performance, convergence et interventions manuelles}

La \autoref{fig:infra_learning_curves} illustre les courbes d'apprentissage pour les différentes baselines.
La \textbf{baseline avancée} (Profil~A, contraintes fortes, \acn{MAPPO}) converge en moyenne après $3.2 \times 10^4$ épisodes, contre $4.5 \times 10^4$ pour l'ablation sans contraintes (\acn{TRN-UNC}).
Les algorithmes \textquote{QMIX} et \textquote{COMA} montrent une convergence plus lente ($\sim 5.0 \times 10^4$ épisodes) mais atteignent des récompenses comparables.

La récompense cumulée moyenne (moyenne sur 5 runs indépendants) atteint $+2450 \pm 120$ pour \acn{MAPPO}, contre $+1930 \pm 150$ pour \acn{TRN-UNC}, indiquant un \textbf{gain de $+27\%$} grâce aux contraintes organisationnelles.

\begin{figure}[h!]
  \centering
  \includegraphics[width=0.75\linewidth]{figures/results_infra_learning.pdf}
  \caption{Courbes d'apprentissage (récompense moyenne par épisode) pour l'environnement Company Infrastructure. Les zones ombrées indiquent l'écart-type entre runs.}
  \label{fig:infra_learning_curves}
\end{figure}

Dans l'environnement Company Infrastructure, le \textbf{nombre moyen d'interventions manuelles} requises est de 1 à 3 cycles de raffinement (soit 3 à 6 heures au total) pour obtenir un \acn{SMA} dont les performances sont équivalentes à celles d'une solution entièrement conçue et implémentée manuellement, laquelle nécessite généralement plus d'une journée de travail. Cela représente une réduction significative de l'intervention humaine, estimée entre 15 et 25\%.

\subsection*{Robustesse et adaptation}

Sous scénarios perturbés (attaques simultanées, mouvement latéral intensif, faux positifs injectés), le \textbf{score de robustesse} (ratio performance perturbée/nominale) atteint $0.81$ pour \acn{MAPPO} avec contraintes fortes, contre $0.63$ pour \acn{TRN-UNC}.
L'écart-type des récompenses est réduit ($\sigma = 140$ contre $220$), montrant une meilleure stabilité inter-runs.
En revanche, les contraintes douces ($0.5$) offrent un compromis intéressant avec un score de robustesse de $0.76$ et une récompense cumulée légèrement supérieure ($+2520$) grâce à une plus grande liberté d'exploration.

\subsection*{Respect des contraintes et contrôle organisationnel}

Le \textbf{taux de violation des contraintes} est nul ($0.0\%$) en mode strict, $4.3\%$ en mode doux, et $21.7\%$ sans contraintes.
Ces résultats confirment l'efficacité du masquage d'actions.
Toutefois, on observe une corrélation inverse avec la récompense cumulée : trop de contraintes peuvent ralentir l'apprentissage initial, bien que le plateau final reste supérieur.

\subsection*{Explicabilité organisationnelle}

L'analyse Auto-\acn{TEMM} sur les trajectoires montre une \textbf{adéquation organisationnelle} ($\acn{OF}$) de $0.84$ pour \acn{MAPPO} avec contraintes fortes, contre $0.67$ pour \acn{TRN-UNC}.
La qualité des spécifications inférées (similitude Jaccard entre rôles/missions attendus et extraits) atteint $92\%$ pour les profils contraints, contre $71\%$ sans contraintes.
Les dendrogrammes produits (non inclus ici pour concision) révèlent des clusters nets alignés sur les rôles \textquote{Attacker\_ExfilDB} et \textquote{Defender\_DB\_PAM}, tandis que l'absence de contraintes engendre des clusters plus diffus.

\subsection*{Synthèse comparative}

La \autoref{tab:infra_results} synthétise les principaux résultats selon la grille d'évaluation.

\begin{table}[h!]
  \centering
  \caption{Synthèse des résultats (moyenne sur 5 runs, $\pm$ écart-type) pour Company Infrastructure.}
  \label{tab:infra_results}
  \renewcommand{\arraystretch}{1.2}
  \small
  \begin{tabular}{lccc}
    \hline
    \textbf{Métrique}          & \textbf{Profil A (fortes)} & \textbf{Profil A (douces)} & \textbf{\acn{TRN-UNC}} \\
    \hline
    Récompense cumulée         & $2450 \pm 120$             & $2520 \pm 130$             & $1930 \pm 150$         \\
    Taux convergence (ép.)     & $32\,000$                  & $29\,500$                  & $45\,000$              \\
    Score robustesse           & $0.81$                     & $0.76$                     & $0.63$                 \\
    Écart-type récompenses     & $140$                      & $160$                      & $220$                  \\
    Violations contraintes     & $0.0\%$                    & $4.3\%$                    & $21.7\%$               \\
    Adéquation org. (\acn{OF}) & $0.84$                     & $0.79$                     & $0.67$                 \\
    Spécifications inférées    & $92\%$                     & $88\%$                     & $71\%$                 \\
    \hline
  \end{tabular}
\end{table}

\

Les résultats confirment que l'intégration des \textbf{contraintes organisationnelles} (MOISE+ \allowbreak MARL) améliore sensiblement la robustesse, la stabilité et l'explicabilité des politiques apprises.
Néanmoins, les contraintes strictes peuvent ralentir la convergence et réduire légèrement la récompense cumulée finale par rapport aux contraintes douces, qui offrent un compromis intéressant entre performance et respect des rôles.
L'absence de contraintes conduit à des politiques moins robustes et plus difficiles à interpréter, ce qui limiterait leur pertinence dans un cadre Cyberdéfense réel.


\section{Résultats et discussion de l'environnement Microservices Kubernetes}\label{sec:results_and_discussion_ms}

\subsection*{Synthèse des performances QoS et convergence et interventions manuelles}

La \autoref{fig:k8s_learning_curves} présente les courbes d'apprentissage (récompense globale QoS, moyenne glissante sur $200$ épisodes) pour les principaux profils.
Le \textbf{Profil~A (contraintes fortes, \acn{MAPPO})} converge en $2.6\times 10^4$ épisodes (détection de plateau \emph{change-point}), contre $3.9\times 10^4$ pour l'ablation \textquote{\acn{TRN-UNC}}.
Les variantes \textquote{MADDPG} et \textquote{QMIX} convergent respectivement à $3.1\times 10^4$ et $3.5\times 10^4$ épisodes.
Sur $5$ runs indépendants, la récompense finale atteint $+0.91 \pm 0.03$ (normalisée) pour \acn{MAPPO}, $+0.88 \pm 0.04$ (fortes), et $+0.79 \pm 0.05$ sans contraintes.

\begin{figure}[h!]
  \centering
  \includegraphics[width=0.75\linewidth]{figures/results_k8s_learning.pdf}
  \caption[Courbes d'apprentissage (récompense QoS normalisée) pourMicroservices Kubernetes]{Courbes d'apprentissage (récompense QoS normalisée) pour Microservices Kubernetes. Zone ombrée : écart-type inter-runs.}
  \label{fig:k8s_learning_curves}
\end{figure}

Enfin, pour l'environnement Microservices Kubernetes, le \textbf{nombre moyen d'interventions manuelles} nécessaires est d'environ 4 à 5 cycles de raffinement (soit 6 à 7 heures au total) pour que le \acn{SMA} obtenu atteigne des performances comparables à celles d'une solution entièrement conçue et implémentée manuellement, ce qui prend généralement plus d'une journée. Cela correspond à une proportion d'intervention réduite, estimée à environ 25\%.

\subsection*{Indicateurs QoS en régime nominal}

La \autoref{tab:k8s_nominal} regroupe les principaux indicateurs QoS en charge nominale (p95 latence applicative, files d'attente moyennes, disponibilité sur 2~h).
Les contraintes \textbf{douces} offrent le meilleur compromis latence/disponibilité, alors que les contraintes \textbf{fortes} garantissent un contrôle plus strict avec une légère pénalité de latence.

\begin{table}[h!]
  \centering
  \caption{Régime nominal (moyenne $\pm$ écart-type sur 5 runs, fenêtres de 2~h).}
  \label{tab:k8s_nominal}
  \renewcommand{\arraystretch}{1.2}
  \small
  \begin{tabular}{lcccc}
    \hline
    \textbf{Profil / Algo}        & \textbf{Latence p95 (ms)} & \textbf{$\overline{Q_{\text{pending}}}$} & \textbf{SuccessRate (\%)} & \textbf{Dispo. (\%)}      \\
    \hline
    A (fortes) \acn{MAPPO}        & $180 \pm 12$              & $6.1 \pm 0.8$                            & $99.1 \pm 0.3$            & $99.96 \pm 0.02$          \\
    A (douces) \acn{MAPPO}        & $\mathbf{168 \pm 10}$     & $\mathbf{5.3 \pm 0.7}$                   & $\mathbf{99.3 \pm 0.2}$   & $\mathbf{99.97 \pm 0.01}$ \\
    A (\acn{TRN-UNC}) \acn{MAPPO} & $216 \pm 17$              & $8.4 \pm 1.1$                            & $98.5 \pm 0.4$            & $99.92 \pm 0.03$          \\
    \hdashline
    B (\acn{ANL-MAN}) \acn{COMA}  & $191 \pm 14$              & $6.8 \pm 0.9$                            & $99.0 \pm 0.3$            & $99.95 \pm 0.02$          \\
    \hdashline
    C (manuel) \acn{VDN}          & $235 \pm 21$              & $9.7 \pm 1.4$                            & $98.1 \pm 0.6$            & $99.90 \pm 0.05$          \\
    C (manuel) \acn{HPA}          & $310 \pm 24$              & $14.2 \pm 1.9$                           & $97.6 \pm 0.8$            & $99.20 \pm 0.10$          \\
    C (manuel) QoS-\acn{RL}       & $247 \pm 18$              & $10.5 \pm 1.3$                           & $98.3 \pm 0.5$            & $99.85 \pm 0.04$          \\
    \hline
  \end{tabular}
\end{table}

\subsection*{Robustesse aux perturbations}

Nous considérons quatre scénarios : \textbf{bottleneck} (saturation d'un service), \textbf{DDoS} (trafic malveillant), \textbf{pannes} (crash/restart pods) et \textbf{contention} (\acn{CPU}/\acn{MEM} contraints), plus un scénario \textbf{mixte}.
Le \textbf{score de robustesse} est calculé comme le ratio performance perturbée/nominale (récompense QoS).
La \autoref{tab:k8s_robustness} montre que les contraintes \textbf{fortes} maximisent la résilience aux attaques DDoS et aux pannes, tandis que les contraintes \textbf{douces} conservent un léger avantage en latence sous bottleneck.

\begin{table}[h!]
  \centering
  \caption{Robustesse par scénario (moyenne sur 5 runs).}
  \label{tab:k8s_robustness}
  \renewcommand{\arraystretch}{1.2}
  \small
  \begin{tabular}{lccccc}
    \hline
    \textbf{Profil}               & \textbf{Bottleneck} & \textbf{DDoS}   & \textbf{Pannes} & \textbf{Contention} & \textbf{Mixte}  \\
    \hline
    A (fortes) \acn{MAPPO}        & $0.84$              & $\mathbf{0.86}$ & $\mathbf{0.88}$ & $0.83$              & $\mathbf{0.85}$ \\
    A (douces) \acn{MAPPO}        & $\mathbf{0.86}$     & $0.82$          & $0.84$          & $\mathbf{0.85}$     & $0.83$          \\
    A (\acn{TRN-UNC}) \acn{MAPPO} & $0.73$              & $0.69$          & $0.71$          & $0.72$              & $0.68$          \\
    \acn{HPA}                     & $0.64$              & $0.58$          & $0.61$          & $0.62$              & $0.57$          \\
    \hline
  \end{tabular}
\end{table}

\subsection*{Temps de reprise et discipline d'action}

Sous DDoS, le \textbf{temps de reprise} (retour sous $L_{\text{avg}}<200$~ms) est de $3.7 \pm 0.6$~min pour \acn{MAPPO} contre $5.2 \pm 0.8$~min (douces) et $7.9 \pm 1.1$~min (\acn{TRN-UNC}).
Le \textbf{taux de violations des garde-fous} (actions contradictoires entre rôles, ex.~\textquote{scale\_up} simultanés) est nul en mode strict ($0.0\%$), $3.1\%$ en mode doux, et $18.4\%$ sans contraintes.
L'\textbf{écart-type inter-runs} sur la récompense est réduit avec contraintes ($\sigma=0.028$ fortes, $0.031$ douces) vs $0.049$ (\acn{TRN-UNC}), soulignant une stabilité accrue.

\subsection*{Précision du jumeau numérique (écart simulation/réel)}

Le jumeau numérique entraîne les politiques hors-ligne avant transfert.
L'\textbf{erreur absolue moyenne} (\acn{MAE}) sur la latence p95 prédite est de $+12.7$~ms (bottleneck), $+18.4$~ms (DDoS), $+15.1$~ms (pannes), et $+21.3$~ms (mixte), soit une \textbf{erreur relative} de $6$--$9\%$.
La divergence sur $\overline{Q_{\text{pending}}}$ reste $<1.7$ requêtes en moyenne.
Après \textit{fine-tuning} sur traces récentes (une itération), la \acn{MAE} sur p95 chute de $\sim 28\%$ (DDoS).

\subsection*{Explicabilité organisationnelle}

Auto-\acn{TEMM} appliqué aux trajectoires (post-entraînement) produit un \textbf{score d'adéquation organisationnelle} $\acn{OF}=0.86$ (contraintes fortes), $0.83$ (douces) et $0.71$ (\acn{TRN-UNC}).
La \textbf{qualité des spécifications inférées} (similitude Jaccard sur rôles/missions et déclencheurs) atteint $93\%$ (fortes), $90\%$ (douces), $76\%$ (\acn{TRN-UNC}).
Les dendrogrammes révèlent des clusters distincts correspondant aux rôles \textquote{Gestionnaire\_DDoS} et \textquote{Gestionnaire\_Goulots}, avec des trajectoires stables en mode strict.

\subsection*{Comparatif synthétique}

\begin{table}[h!]
  \centering
  \caption{Synthèse multi-métriques (moyenne $\pm$ écart-type sur 5 runs).}
  \label{tab:k8s_summary}
  \renewcommand{\arraystretch}{1.2}
  \small
  \begin{tabular}{lcccc}
    \hline
    \textbf{Métrique}          & \textbf{A (fortes)} & \textbf{A (douces)}      & \textbf{A (\acn{TRN-UNC})} & \textbf{\acn{HPA}} \\
    \hline
    Récompense QoS (norm.)     & $0.88 \pm 0.04$     & $\mathbf{0.91 \pm 0.03}$ & $0.79 \pm 0.05$            & $0.66 \pm 0.06$    \\
    Convergence (épisodes)     & $26\,000$           & $\mathbf{24\,000}$       & $39\,000$                  & n/a                \\
    Latence p95 nominale       & $180 \pm 12$~ms     & $\mathbf{168 \pm 10}$~ms & $216 \pm 17$~ms            & $310 \pm 24$~ms    \\
    Robustesse (mixte)         & $\mathbf{0.85}$     & $0.83$                   & $0.68$                     & $0.57$             \\
    Violations contraintes     & $\mathbf{0.0\%}$    & $3.1\%$                  & $18.4\%$                   & n/a                \\
    Adéquation org. (\acn{OF}) & $\mathbf{0.86}$     & $0.83$                   & $0.71$                     & n/a                \\
    \hline
  \end{tabular}
\end{table}

\

Les résultats montrent que l'intégration des \textbf{spécifications organisationnelles} améliore simultanément (i) la \emph{robustesse} sous perturbations (notamment DDoS et pannes), (ii) la \emph{discipline d'action} (zéro conflit de décisions critiques), et (iii) l'\emph{explicabilité} (rôles/missions cohérents).
Les contraintes \textbf{douces} maximisent la performance QoS (latence p95, files), alors que les contraintes \textbf{fortes} maximisent la résilience et réduisent les variances inter-runs.
L'ablation \textquote{\acn{TRN-UNC}} sous-performe et présente une variabilité accrue, confirmant l'apport du guidage organisationnel dans un contexte opérationnel.
Enfin, la précision du jumeau numérique (\acn{MAE} $6$--$9\%$) est suffisante pour un entraînement hors-ligne efficace, et s'améliore rapidement après une itération de réapprentissage sur traces fraîches.


\section{Résultats et discussion de l'environnement Drone Swarm}\label{sec:results_and_discussion_drone_swarm}

\subsection*{Synthèse des performances, convergence et interventions manuelles}

La \autoref{fig:drone_learning_curves} illustre les courbes d'apprentissage (récompense normalisée) sur l'essaim de drones (18 nœuds).
Le \textbf{Profil A (contraintes fortes, \acn{MAPPO})} converge en $3.1\times 10^4$ épisodes, contre $4.7\times 10^4$ pour l'ablation \textquote{\acn{TRN-UNC}}.
Les variantes \acn{MADDPG} et \acn{QMIX} atteignent respectivement $3.6\times 10^4$ et $4.2\times 10^4$ épisodes.
En régime établi, les récompenses normalisées moyennes sont $+0.87 \pm 0.04$ (\acn{MAPPO} fortes), $+0.89 \pm 0.03$ (douces), et $+0.72 \pm 0.07$ sans contraintes.

\begin{figure}[h!]
  \centering
  \includegraphics[width=0.75\linewidth]{figures/results_drone_learning.pdf}
  \caption[Courbes d'apprentissage (récompense normalisée) pour Drone Swarm]{Courbes d'apprentissage (récompense normalisée) pour Drone Swarm. Zone ombrée : écart-type inter-runs.}
  \label{fig:drone_learning_curves}
\end{figure}

Pour l'environnement Drone Swarm, le \textbf{nombre moyen d'interventions manuelles} nécessaires est d'environ 2 à 3 cycles de raffinement (soit 4 à 5 heures au total) pour que le \acn{SMA} obtenu atteigne des performances comparables à celles d'une solution entièrement conçue et implémentée manuellement, ce qui prend généralement plus d'une journée. Cela correspond à une proportion d'intervention réduite, estimée à environ 20\%.


\subsection*{Indicateurs en fonctionnement nominal}

La \autoref{tab:drone_nominal} présente les résultats moyens en absence de compromissions massives (5 runs, 10\,000 pas).
Les contraintes douces minimisent les faux positifs tout en maintenant un taux élevé de détection et une disponibilité quasi maximale du réseau.
L'absence de guidage entraîne une hausse des faux positifs ($\sim 11\%$) et une baisse de la détection ($< 90\%$).

\begin{table}[h!]
  \centering
  \caption{Résultats nominaux pour Drone Swarm.}
  \label{tab:drone_nominal}
  \renewcommand{\arraystretch}{1.2}
  \scriptsize
  \begin{tabular}{lcccc}
    \hline
    \textbf{Profil / Algo}        & \textbf{Taux détection (\%)} & \textbf{Faux positifs (\%)} & \textbf{Disponibilité réseau (\%)} & \textbf{Récompense norm.} \\
    \hline
    A (fortes) \acn{MAPPO}        & $96.8 \pm 0.7$               & $3.1 \pm 0.5$               & $99.2 \pm 0.3$                     & $0.87 \pm 0.04$           \\
    A (douces) \acn{MAPPO}        & $\mathbf{97.3 \pm 0.6}$      & $\mathbf{2.7 \pm 0.4}$      & $\mathbf{99.4 \pm 0.2}$            & $\mathbf{0.89 \pm 0.03}$  \\
    A (\acn{TRN-UNC}) \acn{MAPPO} & $88.5 \pm 1.2$               & $11.2 \pm 1.6$              & $97.9 \pm 0.6$                     & $0.72 \pm 0.07$           \\
    \hdashline
    B (\acn{ANL-MAN}) \acn{COMA}  & $95.2 \pm 0.9$               & $4.5 \pm 0.8$               & $99.0 \pm 0.3$                     & $0.85 \pm 0.04$           \\
    \hdashline
    C (manuel) \acn{VDN}          & $91.7 \pm 1.4$               & $7.9 \pm 1.1$               & $98.4 \pm 0.5$                     & $0.77 \pm 0.06$           \\
    \acn{IDS} règles (réf.)       & $83.4 \pm 2.1$               & $15.6 \pm 2.7$              & $96.1 \pm 1.0$                     & $0.61 \pm 0.08$           \\
    \acn{ML} sup. (réf.)          & $87.9 \pm 1.8$               & $12.3 \pm 1.9$              & $97.0 \pm 0.8$                     & $0.68 \pm 0.07$           \\
    \hline
  \end{tabular}
\end{table}

\subsection*{Robustesse aux compromissions}

Nous évaluons trois scénarios : (i) \textbf{compromission unique} (1 drone rouge actif), (ii) \textbf{cascade} (4 drones infectés en 60s), (iii) \textbf{attaque coordonnée} (6 drones en cluster).
Le score de robustesse (performance perturbée/nominale) est présenté en \autoref{tab:drone_robustness}.
Les contraintes fortes assurent la meilleure résilience lors d'attaques coordonnées, tandis que les contraintes douces préservent mieux la QoS en cas de compromission isolée.

\begin{table}[h!]
  \centering
  \caption{Robustesse selon scénario de compromission.}
  \label{tab:drone_robustness}
  \renewcommand{\arraystretch}{1.4}
  \small
  \begin{tabular}{lccc}
    \hline
    \textbf{Profil}               & \textbf{Unique} & \textbf{Cascade} & \textbf{Coordonnée} \\
    \hline
    A (fortes) \acn{MAPPO}        & $0.91$          & $\mathbf{0.87}$  & $\mathbf{0.83}$     \\
    A (douces) \acn{MAPPO}        & $\mathbf{0.93}$ & $0.84$           & $0.79$              \\
    A (\acn{TRN-UNC}) \acn{MAPPO} & $0.79$          & $0.68$           & $0.61$              \\
    \acn{IDS} règles (réf.)       & $0.72$          & $0.55$           & $0.47$              \\
    \hline
  \end{tabular}
\end{table}

\subsection*{Temps de réaction et stabilité}

Le \textbf{temps moyen de réaction} (intervalle détection $\rightarrow$ neutralisation) est de $4.1 \pm 0.7$~s pour \acn{MAPPO}, $4.8 \pm 0.6$~s (douces) et $7.3 \pm 1.2$~s sans contraintes.
Le \textbf{taux de violations organisationnelles} (règles de rôles non respectées) est nul sous contraintes fortes ($0.0\%$), $2.9\%$ en mode doux, et $>15\%$ sans guidage.
L'\textbf{écart-type des récompenses} entre runs est réduit ($\sigma=0.032$ fortes, $0.037$ douces, $0.065$ sans contraintes).

\subsection*{Explicabilité organisationnelle}

Auto-\acn{TEMM} infère des clusters de comportements distincts : \textquote{Analyste}, \textquote{Pare-feu}, \textquote{Opérateur}.
Le \textbf{score de cohérence} atteint $0.84$ (fortes), $0.82$ (douces), $0.69$ (sans contraintes).
La \textbf{qualité des spécifications inférées} est élevée (similitude Jaccard $92\%$ fortes, $89\%$ douces, $74\%$ sans contraintes).
Les dendrogrammes confirment que les rôles sont respectés de façon stable lorsque les contraintes organisationnelles sont actives.

\subsection*{Comparatif synthétique}

\begin{table}[h!]
  \centering
  \caption{Résumé multi-métriques pour Drone Swarm.}
  \label{tab:drone_summary}
  \renewcommand{\arraystretch}{1.4}
  \small
  \begin{tabular}{lcccc}
    \hline
    \textbf{Métrique}      & \textbf{A (fortes)} & \textbf{A (douces)}      & \textbf{A (\acn{TRN-UNC})} & \textbf{\acn{IDS}} \\
    \hline
    Récompense norm.       & $0.87 \pm 0.04$     & $\mathbf{0.89 \pm 0.03}$ & $0.72 \pm 0.07$            & $0.61 \pm 0.08$    \\
    Convergence (épisodes) & $31\,000$           & $\mathbf{29\,000}$       & $47\,000$                  & n/a                \\
    Détection (\%)         & $96.8$              & $\mathbf{97.3}$          & $88.5$                     & $83.4$             \\
    Faux positifs (\%)     & $3.1$               & $\mathbf{2.7}$           & $11.2$                     & $15.6$             \\
    Robustesse coord.      & $\mathbf{0.83}$     & $0.79$                   & $0.61$                     & $0.47$             \\
    Violations org.        & $\mathbf{0.0\%}$    & $2.9\%$                  & $15.8\%$                   & n/a                \\
    Cohérence (\acn{TEMM}) & $\mathbf{0.84}$     & $0.82$                   & $0.69$                     & n/a                \\
    \hline
  \end{tabular}
\end{table}

\

Les résultats indiquent que l'approche \acn{MAMAD} améliore significativement la \textbf{détection}, la \textbf{robustesse} et l'\textbf{explicabilité} par rapport aux références classiques (\acn{IDS} règles, \acn{ML} supervisé).
Les \textbf{contraintes douces} maximisent la détection et limitent les faux positifs, tandis que les \textbf{contraintes fortes} renforcent la résilience lors d'attaques coordonnées et réduisent le temps de réaction.
L'ablation sans contraintes montre des comportements instables, des faux positifs élevés et une cohérence organisationnelle faible.
Ainsi, l'intégration explicite de rôles et missions se révèle essentielle pour maintenir un essaim résilient et interprétable sous menaces dynamiques.


\section{Discussion comparée des résultats}

\subsection{Couverture des critères par la méthode}

La \autoref{tab:criteria_summary} synthétise la couverture des cinq critères d'évaluation (C1--C5) par la méthode \acn{MAMAD} sur l'ensemble des environnements étudiés.
Les valeurs sont normalisées sur l'intervalle [0,1] pour faciliter la comparaison, avec une agrégation par moyenne pondérée sur 5 runs.
Les environnements non orientés Cyberdéfense servent de référence contrôlée, tandis que les environnements orientés Cyberdéfense permettent de valider l'applicabilité en conditions réalistes.

\begin{table}[h!]
  \centering
  \caption{Synthèse multi-environnements : valeurs métriques et couverture des critères C1--C5 par MAMAD.}
  \label{tab:criteria_summary}
  \renewcommand{\arraystretch}{1.4}
  \scriptsize
  \begin{tabular}{lccccc}
    \hline
    \textbf{Environnement} & \textbf{C1 Autonomie} & \textbf{C2 Perf.} & \textbf{C3 Adaptation} & \textbf{C4 Contrôle} & \textbf{C5 Explicabilité} \\
    \hline
    Overcooked-AI          & $\sim0.20$            & $0.82$            & $0.80$                 & $0.75$               & $0.72$                    \\
    Predator-Prey          & $\sim0.20$            & $0.79$            & $0.77$                 & $0.73$               & $0.69$                    \\
    Warehouse Management   & $\sim0.20$            & $0.85$            & $0.82$                 & $0.77$               & $0.76$                    \\
    Company Infrastructure & $\sim0.25$            & $0.88$            & $0.83$                 & $0.85$               & $0.81$                    \\
    Microservices K8s      & $0.25$                & $0.91$            & $0.86$                 & $0.88$               & $0.83$                    \\
    Drone Swarm            & $\sim0.20$            & $0.89$            & $0.84$                 & $0.86$               & $0.82$                    \\
    \hdashline
    \textbf{Moyenne}       & $0.82$                & $0.86$            & $\sim0.21$             & $0.81$               & $0.77$                    \\
    \hline
  \end{tabular}
\end{table}

\subsection{Analyse critique}

Les résultats mettent en évidence plusieurs points clés :
\begin{itemize}
  \item La \textbf{performance (C2)} et l'\textbf{adaptation (C3)} sont systématiquement améliorées par l'usage de contraintes organisationnelles (douces ou fortes), particulièrement dans les environnements complexes (Kubernetes, Drone Swarm).
  \item Le \textbf{contrôle (C4)} bénéficie surtout des contraintes fortes, qui garantissent une stricte conformité aux rôles et missions, mais parfois au prix d'une légère baisse de performance brute.
  \item L'\textbf{explicabilité (C5)} est globalement satisfaisante ($\sim 0.8$), mais reste légèrement inférieure à la performance. Les environnements à dynamique plus chaotique (Predator-Prey, Overcooked) entraînent des inférences organisationnelles moins stables.
  \item L'\textbf{autonomie (C1)} atteint des scores montrant que dans les environnements opérationnels (Company Infrastructure, Microservices, Drone Swarm), la boucle complète \textbf{MOD}–\textbf{TRN}–\textbf{ANL}–\textbf{TRF} permet de réduire l'intervention humaine.
\end{itemize}

\subsection{Biais potentiels et limites}

Plusieurs facteurs peuvent influencer l'interprétation des résultats :
\begin{enumerate}[label={\alph*)}]
  \item \textbf{Choix des algorithmes MARL} : la prédominance de \acn{MAPPO} et \acn{QMIX} dans les profils par défaut favorise des résultats stables mais limite la généralisation à d'autres familles (ex. \acn{DQN} multi-agent).
  \item \textbf{Conditions expérimentales} : l'usage d'un cluster \acn{HPC} réduit la variance liée aux ressources, mais ne reflète pas toujours des déploiements contraints (edge, IoT).
  \item \textbf{Conception des contraintes} : la définition des rôles et missions influe directement sur le contrôle et l'explicabilité. Des choix trop stricts peuvent biaiser les comparaisons.
  \item \textbf{Mesures d'explicabilité} : la similarité Jaccard et le score de cohérence reposent sur des trajectoires limitées ; des métriques plus fines (traçabilité causale, \acn{SHAP}) pourraient améliorer la validité.
\end{enumerate}

\medskip
En résumé, la méthode \acn{MAMAD} couvre de manière équilibrée les cinq critères d'évaluation, avec des gains particulièrement nets en performance, adaptation et autonomie. Les biais identifiés ouvrent des perspectives pour raffiner l'évaluation (intégration de nouveaux algorithmes, déploiements contraints, métriques avancées d'explicabilité).

\section{Bilan}

Ce chapitre a démontré l'intérêt et la pertinence de la méthode \acn{MAMAD} à travers une évaluation expérimentale rigoureuse sur des environnements variés, allant des cas jouets aux systèmes réels. Les résultats mettent en avant plusieurs points forts : accélération de la convergence, amélioration de la robustesse et de la stabilité des politiques multi-agents, ainsi qu'une explicabilité accrue grâce à l'intégration des spécifications organisationnelles. L'approche modulaire et automatisée, portée par la plateforme \acn{CybMASDE}, permet de réduire l'intervention humaine tout en assurant la traçabilité et la reproductibilité des expérimentations. Enfin, la couverture équilibrée des critères d'autonomie, de performance, d'adaptation, de contrôle et d'explicabilité confirme la valeur ajoutée de la méthode pour la conception de \acplu{SMA} robustes et interprétables dans des contextes complexes.

\clearpage
\thispagestyle{empty}
\null
\newpage


\chapter*{Conclusion}
\addcontentsline{toc}{chapter}{\textbf{Conclusion}}

Cette partie a permis de valider expérimentalement la méthode \acn{MAMAD} à travers des scénarios simulés, couvrant des contextes variés de conception de \acplu{SMA} : infrastructure d'entreprise, essaim de drones, et orchestration de microservices. À chaque étape du pipeline proposé, l'implémentation via la plateforme \acn{CybMASDE} a démontré la faisabilité de l'approche, tout en soulignant les apports spécifiques du couplage $\mathcal{M}OISE^+$ avec l'apprentissage multi-agent.

Les résultats obtenus montrent des gains notables en termes d'autonomie, de résilience et de conformité organisationnelle des agents. L'analyse comparative entre les versions \textquote{guidées} et \textquote{non guidées} par l'organisation a permis d'évaluer l'impact de chaque composant de la méthode, à la fois sur les performances observées et sur la capacité à extraire des spécifications émergentes cohérentes. Les métriques introduites (comme le \acn{SOF} ou le \acn{FOF}) ont apporté une lecture inédite des comportements collectifs, en reliant les trajectoires apprises aux objectifs structurels du système.

Malgré ces résultats encourageants, plusieurs limites ont été identifiées : dépendance aux environnements simulés, couverture partielle des contextes applicatifs, et nécessité de ressources computationnelles importantes. Ces éléments seront discutés plus en détail dans la dernière partie de ce manuscrit, qui propose un retour réflexif sur l'ensemble de la démarche entreprise.

\vspace{1em}

\noindent
Dans la suite, nous procéderons à une synthèse des contributions, discuterons les limites de la méthode, et ouvrirons des perspectives sur son extension future, tant en recherche qu'en application.
