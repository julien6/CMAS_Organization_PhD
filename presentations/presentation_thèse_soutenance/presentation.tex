\documentclass[9pt, aspectratio=169]{beamer}
% \documentclass[10pt]{beamer}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[english]{babel}
\usetheme{Frankfurt}

\usepackage[backend=biber, style=authoryear]{biblatex}
\addbibresource{local_references.bib}

%\usepackage{lmodern}
\usepackage{amsfonts,amssymb,amsmath}
\usepackage[english]{babel}
\usetheme{Frankfurt}

\usepackage{csquotes}
\usepackage{setspace}

\usepackage{colortbl}
\usepackage{tabularx}
\renewcommand\tabularxcolumn[1]{m{#1}}

% --- Tickz
\usepackage{physics}
\usepackage{amsmath}
\usepackage{tikz}
\usepackage{mathdots}
\usepackage{yhmath}
\usepackage{cancel}
\usepackage{color}
\usepackage{siunitx}
\usepackage{array}
\usepackage{multirow}
\usepackage{amssymb}
\usepackage{gensymb}
\usepackage{tabularx}
\usepackage{extarrows}
\usepackage{booktabs}
\usetikzlibrary{fadings}
\usetikzlibrary{patterns}
\usetikzlibrary{shadows.blur}
\usetikzlibrary{shapes}

% ---------

\usepackage{booktabs}
\usepackage{setspace}
\usepackage{amssymb}
\usepackage{adjustbox}
\usepackage{pifont}
\usepackage[inkscapeformat=png]{svg}
\usepackage{graphicx}
\usepackage{times}
\setbeamertemplate{caption}[numbered]
% % \setbeamertemplate{bibliography item}{[\theenumiv]}

\setbeamerfont{bibliography item}{size=\tiny}
\setbeamerfont{bibliography entry author}{size=\tiny}
\setbeamerfont{bibliography entry title}{size=\tiny}
\setbeamerfont{bibliography entry location}{size=\tiny}
\setbeamerfont{bibliography entry note}{size=\tiny}

\setbeamerfont{frametitle}{size=\large}

\usepackage{caption}
\usepackage{float}
\usepackage{xcolor}
\usepackage{listings}
\usepackage{animate}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
 
\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}
 
\lstset{style=mystyle}

\usepackage{ragged2e}
\setbeamercolor{section in foot}{fg=white,bg=darkorange}
\setbeamercolor{subsection in foot}{fg=white,bg=darkorange}
\setbeamercolor{frametitle}{fg=white, bg=darkorange}
\setbeamercolor{title}{fg=white, bg=darkorange}
\setbeamercolor{frame}{bg=darkorange}
\setbeamercolor{block title}{bg=darkorange,fg=white}

\setbeamercolor{item}{fg=darkorange}

% \definecolor{darkorange}{rgb}{0.81, 0.52, 0.05}
\definecolor{darkorange}{rgb}{1,0.5,0}
\definecolor{darkorange2}{rgb}{1, 0.64, 0.2}
\definecolor{honeydew}{rgb}{1, 0.85, 0.45}


\newenvironment{variableblock}[3]{%
  \setbeamercolor{block body}{#2}
  \setbeamercolor{block title}{#3}
  \begin{block}{#1}}{\end{block}}

\newenvironment{prosblock}[1]{%
  % \setbeamercolor{block body}{bg=blue,fg=white}
  \setbeamercolor{block title}{bg=blue,fg=white}
  \begin{block}{#1}}{\end{block}}

\newenvironment{consblock}[1]{%
  % \setbeamercolor{block body}{bg=red,fg=white}
  \setbeamercolor{block title}{bg=red,fg=white}
  \begin{block}{#1}}{\end{block}}

\newcommand{\cmark}{\ding{51}}%
\newcommand{\xmark}{\ding{55}}%

\renewcommand{\arraystretch}{1.5}

% Please add the following required packages to your document preamble:
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{colortbl}
% Beamer presentation requires \usepackage{colortbl} instead of \usepackage[table,xcdraw]{xcolor}

\usepackage{tabularray}\UseTblrLibrary{varwidth}
\usepackage{xcolor}
\def\BibTeX{{\rm B\kern-.05em{\sc i\kern-.025em b}\kern-.08em
    T\kern-.1667em\lower.7ex\hbox{E}\kern-.125emX}}
% \usepackage{cite}
\usepackage{amsmath}
\newcommand{\probP}{\text{I\kern-0.15em P}}
\usepackage{etoolbox}
\patchcmd{\thebibliography}{\section*{\refname}}{}{}{}

\setlength\tabcolsep{0.5pt}

\renewcommand{\arraystretch}{0.9}
\setlength{\tabcolsep}{2pt}

\usepackage{pgffor}
\usepackage[absolute,overlay]{textpos}
\setlength{\TPHorizModule}{1cm}
\setlength{\TPVertModule}{1cm}

\setbeamerfont{bibliography item}{size=\tiny}
\setbeamerfont{bibliography entry author}{size=\tiny}
\setbeamerfont{bibliography entry title}{size=\tiny}
\setbeamerfont{bibliography entry location}{size=\tiny}
\setbeamerfont{bibliography entry note}{size=\tiny}

\setbeamerfont{bibliography entry author}{shape=\upshape,series=\mdseries,size=\footnotesize}
\setbeamerfont{bibliography entry title}{shape=\slshape,series=\mdseries,size=\footnotesize}
\setbeamerfont{bibliography entry journal}{shape=\upshape,series=\mdseries,size=\footnotesize}
\setbeamerfont{bibliography entry note}{shape=\upshape,series=\mdseries,size=\footnotesize}

\renewcommand*{\bibfont}{\scriptsize}

\newenvironment<>{varblock}[2][.9\textwidth]{%
  \setlength{\textwidth}{#1}
  \begin{actionenv}#3%
    \def\insertblocktitle{#2}%
    \par%
    \usebeamertemplate{block begin}}
  {\par%
    \usebeamertemplate{block end}%
  \end{actionenv}}

% \setbeamertemplate{footline}[frame number]

\setbeamertemplate{footline}{
  \leavevmode%
  \hfill
  \usebeamercolor[fg]{page number in head/foot}%
  \scriptsize%
  \ifnum\value{framenumber}>23%
    Appendix \number\numexpr\value{framenumber}-32\relax/32%
  \else%
    \ifnum\value{framenumber}>20%
      %
    \else
      \number\numexpr\value{framenumber}\relax/20%
    \fi

  \fi%
  \hspace{1em}
}

\begin{document}

\input{cover}

\begin{frame}{Sommaire}
  \tableofcontents
\end{frame}

\addtocounter{framenumber}{-2}

\section{Résumé}
\begin{frame}{Résumé}
  \begin{itemize}
    \item \textbf{Contexte AICA (IST-152 NATO, 2016--2019)} : détecter/identifier des anomalies, planifier et exécuter des contre-mesures, autonomie, discrétion, interopérabilité, capacité d’apprentissage.
    \item \textbf{Motivation} : vers un \textit{Système Multi-Agent Centric AICA} face à l’augmentation de la surface d’attaque et aux défis pendant l’attaque.
    \item \textbf{Problème} : rechercher automatiquement une organisation de SMA de cyberdéfense satisfaisant (C1) Autonomie, (C2) Performance, (C3) Adaptation, (C4) Contrôle, (C5) Explicabilité.
  \end{itemize}
\end{frame}

\section{Introduction}
\begin{frame}{Introduction}{General context}

  \begin{columns}

    \begin{column}{0.7\textwidth}

      \begin{itemize}
        \item \textbf{Increasing attack surface}
              \begin{itemize}
                \item IoT/IoBT: drones, autonomous vehicles
              \end{itemize}
        \item \textbf{Challenges during attack}
              \begin{itemize}
                \item Operators' limitations: time constraints, workload, complexity\dots
                \item Environment's limitations: jamming, communication interruption\dots
              \end{itemize}
      \end{itemize}

      \ \\

      $\Longrightarrow$ Need for: \textbf{reactivity, flexibiity, autonomy}\dots

      \begin{itemize}
        \item A Multi-Agent approach for Cyberdefense
              \begin{itemize}
                \item An agent\dots
                \item A Multi-Agent System (MAS)\dots
              \end{itemize}
      \end{itemize}

      \ \\

      $\Longrightarrow$ Promising for: \textbf{adaptation, scalability, sub-task delegation}\dots

    \end{column}

    \begin{column}{0.4\textwidth}
      \begin{figure}
        \includegraphics[width=\linewidth]{figures/casino.jpg}
        \caption*{\tiny\url{https://hackread.com/hackers-casinos-fish-tank-smart-thermometer-hack/}}
      \end{figure}

      \vspace{0.cm}
      \animategraphics[autoplay,loop,width=\linewidth]{1}{figures/cyberdefense_mas_frames/frame}{0}{8}

    \end{column}

  \end{columns}

\end{frame}

\begin{frame}{Introduction}{General context}

  \begin{columns}

    \begin{column}{0.5\textwidth}

      \begin{itemize}
        \item MASCARA (Multi Agent Centric AICA Reference Architecture)
              \begin{itemize}
                \item AICA theorized by “IST-152 NATO” (2016-2019)
              \end{itemize}

        \item Detect, identify and characterize anomalies/attacks

              \begin{itemize}
                \item Plan and execute countermeasures
              \end{itemize}

        \item Communicate with C2 / operators…

              \begin{itemize}
                \item Be autonomous, stealthy, interoperable, capable of learning
              \end{itemize}

        \item MASCARA: A Multi-Agent vision of AICA
              \begin{itemize}
                \item An implicit organization
              \end{itemize}
      \end{itemize}

    \end{column}

    \hspace{-2ex}
    \begin{column}{0.6\textwidth}
      \includegraphics[width=\linewidth]{figures/mascara.png}
    \end{column}

  \end{columns}

\end{frame}

\begin{frame}{Introduction}{Problem}

  \begin{alertblock}{General problem}
    \textbf{What organizational mechanisms of the Cyberdefense MAS (AICA) to optimize its operation taking into account its constraints?}
  \end{alertblock}

  \begin{columns}

    \begin{column}{0.6\textwidth}
      \begin{figure}
        \centering
        \includegraphics[width=0.95\linewidth]{figures/general_problem_illustration.png}
      \end{figure}
    \end{column}

    \begin{column}{0.5\textwidth}
      \textbf{Literature study of available Cyberdefense MAS (CMAS) organizations}

      \begin{itemize}
        \item Few works dealing with a Multi-Agent approach to Cyberdefense
        \item Difficult to have a general vision of the effects of the organizations involved depending on the deployment environment
      \end{itemize}

      \ \\

      $\Longrightarrow$ \textbf{Need a study framework to address the problem…}
    \end{column}
  \end{columns}

\end{frame}

\begin{frame}{Introduction}{Approach for addressing the problem}

  A methodological contribution:
  \begin{itemize}

    % \item Review of work for the development of Cyberdefense MAS
    %       \begin{itemize}
    %           \item Expectations of a methodology for the development of Cyberdefense MAS
    %           \item Overview of available work versus expectations
    %           \item Discussion on methodological obstacles
    %       \end{itemize}

    \item \textbf{Need for modeling problem \& design foundation}
          \begin{itemize}
            \item[$\rightarrow$] \textbf{CybMASFM}: Markovian framework + Digital Twins (simulation/emulation coupling)
          \end{itemize}

    \item \textbf{Need for automated safe design}
          \begin{itemize}
            \item[$\rightarrow$] \textbf{CybMASDA}: Comprehensive design process
              \begin{itemize}
                \item[$\rightarrow$] OMARL: MARL + Organizational model
              \end{itemize}
          \end{itemize}

    \item \textbf{Need for practical design means}
          \begin{itemize}
            \item[$\rightarrow$] \textbf{CybMASDE}: implemented CybMASDA as an API + GUI
          \end{itemize}

  \end{itemize}

  \ \\
  \begin{itemize}

    \item Academic \& industrial \textbf{case studies} for AICA\dots
          \begin{itemize}
            \item Drone swarm
            \item Company Infrastructure
            \item Kubernetes/Drones environment
          \end{itemize}

  \end{itemize}

\end{frame}


\section{Contexte et Problématique}
\begin{frame}{Contexte}
  \begin{itemize}
    \item AICA : cadre capable de détecter, caractériser et répondre aux attaques en continu.
    \item Référence \textbf{MASCARA} : \textit{Multi-Agent System Centric AICA Reference Architecture}.
    \item Exemple d’attaque IoT : capteurs/thermomètres connectés compromis (vulnérabilités et latéralisation).
  \end{itemize}
\end{frame}

\begin{frame}{Motivations et Objectifs}
  \begin{itemize}
    \item Besoin d’une \textbf{organisation} adaptée du SMA sous contraintes environnementales et d’ingénierie.
    \item \textbf{Objectif} : automatiser la recherche d’organisation optimisant C1--C5.
  \end{itemize}
  \begin{block}{Hypothèse directrice}
    La combinaison \textbf{MARL} + \textbf{modèle organisationnel} permet d’améliorer \textit{contrôle}, \textit{sûreté} et \textit{explicabilité} sans dégrader les performances.
  \end{block}
\end{frame}

\section{État de l’art}
\begin{frame}{Synthèse}
  \begin{itemize}
    \item \textbf{Autonomie (C1)} : cycle de vie encore très dépendant de l’humain ; autonomie organisationnelle peu étudiée.
    \item \textbf{Performance (C2)} : critère le plus traité (récompense, succès), robustesse limitée.
    \item \textbf{Adaptation (C3)} : quelques approches co-évolutives, peu généralisables.
    \item \textbf{Contrôle (C4)} : quasi-absent (spécification/vérification de contraintes organisationnelles).
    \item \textbf{Explicabilité (C5)} : outils rares pour relier comportements et organisation.
  \end{itemize}
\end{frame}

\section{Approche proposée}
\begin{frame}{Principe général}
  \begin{itemize}
    \item Concevoir un SMA de cyberdéfense mariant \textbf{ML/MARL} et \textbf{contrôle organisationnel}.
    \item \textbf{Méthode en 4 activités} : (1) Modélisation, (2) Entraînement, (3) Analyse, (4) Transfert.
  \end{itemize}
\end{frame}

\section{Méthode}
\subsection{1. Modélisation}
\begin{frame}{Modélisation : environnement réseau}
  \begin{itemize}
    \item Propriétés : ouvert, dynamique/statique, déterministe, (in)accessible.
    \item \textbf{Équipes} : verte (utilisateurs/benign), rouge (attaquants), bleue (défenseurs).
    \item Observations : interfaces réseau, processus, sessions, OS, etc.
    \item Évaluation : temps de détection/réponse, nœuds affectés, messages, ressources.
  \end{itemize}
  % \includegraphics[width=\linewidth]{figures/network_context.pdf}
\end{frame}

\begin{frame}{Modélisation : cadre Markovien}
  \begin{itemize}
    \item Décision collective sous \textbf{(Dec-)POMDP}.
    \item Modélisation des incertitudes (actions / observations).
    \item \textbf{T} : fonction de transition d’état.
  \end{itemize}
  \begin{block}{Deux voies pour T}
    \begin{itemize}
      \item \textit{Manuelle} : simulateurs/émulateurs (p.ex. CybORG).
      \item \textit{Automatisée} : \textit{world models} (trajectoires $\rightarrow$ apprentissage prédictif).
    \end{itemize}
  \end{block}
\end{frame}

\subsection{2. Entraînement}
\begin{frame}{Entraînement : MARL + Organisation}
  \begin{itemize}
    \item \textbf{Vanilla MARL} : maximiser la récompense cumulée par agent.
    \item \textbf{MOISE+MARL} : contraintes \textit{dures/douces} via rôles et objectifs (imposer/refuser des actions ; guider des sous-objectifs).
  \end{itemize}
  % \includegraphics[width=.6\linewidth]{figures/marl_org.pdf}
\end{frame}

\subsection{3. Analyse}
\begin{frame}{Analyse post-entraînement (TEMM)}
  \begin{itemize}
    \item Hypothèses : \textbf{rôles} $\sim$ motifs fréquents (obs, action) ; \textbf{objectifs} $\sim$ obs. critiques fréquentes.
    \item Méthode empirique : trajectoires $\rightarrow$ vecteurs ; distances (Smith–Waterman, LCS, euclidienne) ; \textit{clustering} et centroïdes ; échantillonnage pour extraire rôles/objectifs.
  \end{itemize}
  % \input{figures/abstract_obs_processed_viz.tex}
\end{frame}

\subsection{4. Transfert}
\begin{frame}{Transfert / Déploiement}
  \begin{itemize}
    \item Déploiement \textit{remote} ou \textit{direct} ; collecte de nouvelles transitions.
    \item Boucle fermée : amélioration du modèle simulé par itération.
  \end{itemize}
\end{frame}

\section{Implémentation : CybMASDE}
\begin{frame}{CybMASDE : outil}
  \begin{itemize}
    \item Application Web (Electron) : \textbf{backend} Python, \textbf{frontend} Angular.
    \item Projet : dossiers par activité (modèles entraînés, bases, configs), fichier JSON central.
    \item Interfaces : \texttt{CLI} (\texttt{init}, \texttt{validate}, \texttt{model}, \texttt{train}, \texttt{analyze}, \texttt{refine}, \texttt{deploy}) et \textit{GUI}.
  \end{itemize}
\end{frame}

\section{Études de cas}
\begin{frame}{Environnements non-cyberdéfense}
  \begin{itemize}
    \item \textbf{Predator–Prey} : rôles « leader chasseur », « follower hunter », « proie » ; objectifs « encercler la proie », etc.
    \item \textbf{Warehouse Management} : rôles « artisan principal/secondaire » ; objectif « maximiser l’artisanat ».
    \item \textbf{Overcooked-AI} : rôles « polyvalent/serveur/cuisinier » ; objectif « maximiser le bol non vide ».
  \end{itemize}
  \begin{block}{Résultats (extraits)}
    Modélisation validée avec datasets $\gtrsim$ 5 Go ; contraintes respectées ; rôles/objectifs inférés conformes aux attentes ; transfert réactif aux modifications en temps réel.
  \end{block}
\end{frame}

\begin{frame}{Infrastructure d’entreprise}
  \begin{itemize}
    \item Trois modèles organisationnels : attaquant/défenseur aléatoire, manuel, et apprentissage attaquant/défenseur.
  \end{itemize}
  \begin{block}{Résultats (extraits)}
    Zéro violation sous contraintes dures ; vérifications manuelles des trajectoires ; adaptation à l’ajout/retrait de nœud réseau en temps réel.
  \end{block}
\end{frame}

\begin{frame}{Essaim de drones (CAGE Challenge)}
  \begin{itemize}
    \item Organisations : « Isolation du suspect », « Défense Active », « Manuel ».
  \end{itemize}
  \begin{block}{Résultats (extraits)}
    Stabilité accrue, meilleure convergence ; validation des rôles/objectifs ; robustesse face aux perturbations (p.ex., forcer l’infection d’un drone).
  \end{block}
\end{frame}

\begin{frame}{Microservices Kubernetes}
  \begin{itemize}
    \item \textbf{Approche SMA} : un agent par problème ; priorisation ; passage à l’échelle.
    \item \textbf{KARMA (PoC)} : amélioration de la résilience ; convergence plus rapide qu’HPA.
  \end{itemize}
  \begin{block}{Résultats (extraits)}
    Datasets $\gtrsim$ 7 Go ; stabilité et convergence accrues ; visualisations (PCA) confirmant les rôles/objectifs ; adaptation aux changements brusques (charge, politique d’attaquant).
  \end{block}
\end{frame}

\section{Conclusion}
\begin{frame}{Synthèse et contributions}
  \begin{itemize}
    \item Méthode de conception SMA pour la cyberdéfense : \textbf{modélisation} (simu \& world models), \textbf{entraînement sous contraintes} (MOISE+MARL), \textbf{analyse organisationnelle} (TEMM), \textbf{transfert}.
    \item Contributions : extension multi-agent des world models ; intégration MOISE+ dans MARL ; méthode d’analyse des comportements (rôles, missions) ; implémentation unifiée ; expérimentations multi-environnements.
    \item Bénéfices : \textbf{Résilience} + \textbf{Adaptation} + \textbf{Autonomie} ; meilleurs compromis performance/contrôle ; meilleure lisibilité des comportements.
  \end{itemize}
\end{frame}

\begin{frame}{Outils utilisables}
  \begin{itemize}
    \item \textbf{MOISE+MARL} : lib Python RL/MARL pour scénarios multi-agents/simulation ; rôles/objets JSON ; outils d’explication ; export JSON.
    \item \textbf{CybMASDE} : app Electron pour configurer/lancer la méthode (\textit{model}, \textit{train}, \textit{analyze}, \textit{transfer}); \texttt{install.sh} ; \texttt{CLI} et \textit{GUI}.
  \end{itemize}
\end{frame}

\begin{frame}{Perspectives}
  \begin{itemize}
    \item \textbf{Court/moyen terme} : modélisation enrichie (hybridation data+symbolique) ; apprentissage plus robuste (dynamiques/adversaires ; sim2real continu) ; analyse orga avancée (inférence structurelle).
    \item \textbf{Long terme} : passage à l’échelle (clusters, réseaux réels) ; interopérabilité (SOC, CSIRT) ; explicabilité opérationnelle ; déploiement hybride simu/réel.
  \end{itemize}
\end{frame}

\appendix
%\setbeamertemplate{headline}{}
\setbeamertemplate{mini frames}{}

\input{sections/thanks}

\section*{\phantom{References}}
\begin{frame}[allowframebreaks]{References}{}
  \printbibliography
\end{frame}

\newcounter{mainframenumber}
\setcounter{mainframenumber}{\value{framenumber}}

% % \input{sections/annexes}


\end{document}
